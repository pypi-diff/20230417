# Comparing `tmp/corsika_panama-0.3.2.tar.gz` & `tmp/corsika_panama-0.4.0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "corsika_panama-0.3.2.tar", max compression
+gzip compressed data, was "corsika_panama-0.4.0.tar", max compression
```

## Comparing `corsika_panama-0.3.2.tar` & `corsika_panama-0.4.0.tar`

### file list

```diff
@@ -1,16 +1,18 @@
--rw-r--r--   0        0        0     1069 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/LICENSE
--rw-r--r--   0        0        0     5623 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/README.md
--rw-r--r--   0        0        0      291 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/__init__.py
--rwxr-xr-x   0        0        0      590 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/cli.py
--rw-r--r--   0        0        0     1738 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/corsika_to_hdf5.py
--rw-r--r--   0        0        0      175 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/fluxes/__init__.py
--rw-r--r--   0        0        0     7077 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/fluxes/fluxes.py
--rw-r--r--   0        0        0     1458 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/nbstreamreader.py
--rw-r--r--   0        0        0     2091 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/numba.py
--rw-r--r--   0        0        0     5469 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/parallel_run.py
--rw-r--r--   0        0        0    15775 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/read.py
--rw-r--r--   0        0        0     3778 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/run.py
--rw-r--r--   0        0        0     2877 2023-03-08 23:45:26.554850 corsika_panama-0.3.2/panama/weights.py
--rw-r--r--   0        0        0      935 2023-03-08 23:45:26.558850 corsika_panama-0.3.2/pyproject.toml
--rw-r--r--   0        0        0     6705 1970-01-01 00:00:00.000000 corsika_panama-0.3.2/setup.py
--rw-r--r--   0        0        0     6672 1970-01-01 00:00:00.000000 corsika_panama-0.3.2/PKG-INFO
+-rw-r--r--   0        0        0     1069 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/LICENSE
+-rw-r--r--   0        0        0     5625 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/README.md
+-rw-r--r--   0        0        0      362 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/__init__.py
+-rw-r--r--   0        0        0       41 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/cli/__init__.py
+-rwxr-xr-x   0        0        0      616 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/cli/cli.py
+-rw-r--r--   0        0        0     1749 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/cli/corsika_to_hdf5.py
+-rw-r--r--   0        0        0     3984 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/cli/run.py
+-rw-r--r--   0        0        0      883 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/constants.py
+-rw-r--r--   0        0        0      175 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/fluxes/__init__.py
+-rw-r--r--   0        0        0     6930 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/fluxes/fluxes.py
+-rw-r--r--   0        0        0     1633 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/nbstreamreader.py
+-rw-r--r--   0        0        0     3227 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/prompt.py
+-rw-r--r--   0        0        0    15063 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/read.py
+-rw-r--r--   0        0        0     8417 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/run.py
+-rw-r--r--   0        0        0     3110 2023-04-17 00:45:53.551427 corsika_panama-0.4.0/panama/weights.py
+-rw-r--r--   0        0        0     2348 2023-04-17 00:45:53.555426 corsika_panama-0.4.0/pyproject.toml
+-rw-r--r--   0        0        0     6736 1970-01-01 00:00:00.000000 corsika_panama-0.4.0/setup.py
+-rw-r--r--   0        0        0     6674 1970-01-01 00:00:00.000000 corsika_panama-0.4.0/PKG-INFO
```

### Comparing `corsika_panama-0.3.2/LICENSE` & `corsika_panama-0.4.0/LICENSE`

 * *Files identical despite different names*

### Comparing `corsika_panama-0.3.2/README.md` & `corsika_panama-0.4.0/README.md`

 * *Files 2% similar despite different names*

```diff
@@ -1,279 +1,279 @@
-00000000: 5041 4e2a 6461 732a 2041 2a6e 642a 204d  PAN*das* A*nd* M
-00000010: 2a75 6c74 6963 6f72 6520 7574 696c 7320  *ulticore utils 
-00000020: 666f 7220 636f 7273 696b 2a41 2a37 2a0a  for corsik*A*7*.
-00000030: 3d3d 3d0a 5b44 6f63 756d 656e 7461 7469  ===.[Documentati
-00000040: 6f6e 2021 5b52 6561 6420 7468 6520 446f  on ![Read the Do
-00000050: 6373 5d28 6874 7470 733a 2f2f 696d 672e  cs](https://img.
-00000060: 7368 6965 6c64 732e 696f 2f72 6561 6474  shields.io/readt
-00000070: 6865 646f 6373 2f70 616e 616d 613f 7374  hedocs/panama?st
-00000080: 796c 653d 666f 722d 7468 652d 6261 6467  yle=for-the-badg
-00000090: 6529 5d28 6874 7470 733a 2f2f 7061 6e61  e)](https://pana
-000000a0: 6d61 2e72 6561 6474 6865 646f 6373 2e69  ma.readthedocs.i
-000000b0: 6f2f 656e 2f6c 6174 6573 742f 290a 0a5b  o/en/latest/)..[
-000000c0: 215b 4769 7448 7562 2057 6f72 6b66 6c6f  ![GitHub Workflo
-000000d0: 7720 5374 6174 7573 5d28 6874 7470 733a  w Status](https:
-000000e0: 2f2f 696d 672e 7368 6965 6c64 732e 696f  //img.shields.io
-000000f0: 2f67 6974 6875 622f 6163 7469 6f6e 732f  /github/actions/
-00000100: 776f 726b 666c 6f77 2f73 7461 7475 732f  workflow/status/
-00000110: 5468 652d 4c75 6477 6967 2f50 414e 414d  The-Ludwig/PANAM
-00000120: 412f 6369 2e79 6d6c 3f73 7479 6c65 3d66  A/ci.yml?style=f
-00000130: 6f72 2d74 6865 2d62 6164 6765 295d 2868  or-the-badge)](h
-00000140: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00000150: 6d2f 5468 652d 4c75 6477 6967 2f50 414e  m/The-Ludwig/PAN
-00000160: 414d 412f 6163 7469 6f6e 732f 776f 726b  AMA/actions/work
-00000170: 666c 6f77 732f 6369 2e79 6d6c 290a 5b21  flows/ci.yml).[!
-00000180: 5b43 6f64 6563 6f76 5d28 6874 7470 733a  [Codecov](https:
-00000190: 2f2f 696d 672e 7368 6965 6c64 732e 696f  //img.shields.io
-000001a0: 2f63 6f64 6563 6f76 2f63 2f67 6974 6875  /codecov/c/githu
-000001b0: 622f 5468 652d 4c75 6477 6967 2f50 414e  b/The-Ludwig/PAN
-000001c0: 414d 413f 6c61 6265 6c3d 7465 7374 2532  AMA?label=test%2
-000001d0: 3063 6f76 6572 6167 6526 7374 796c 653d  0coverage&style=
-000001e0: 666f 722d 7468 652d 6261 6467 6529 5d28  for-the-badge)](
-000001f0: 6874 7470 733a 2f2f 6170 702e 636f 6465  https://app.code
-00000200: 636f 762e 696f 2f67 682f 5468 652d 4c75  cov.io/gh/The-Lu
-00000210: 6477 6967 2f50 414e 414d 4129 0a5b 215b  dwig/PANAMA).[![
-00000220: 5079 5049 5d28 6874 7470 733a 2f2f 696d  PyPI](https://im
-00000230: 672e 7368 6965 6c64 732e 696f 2f70 7970  g.shields.io/pyp
-00000240: 692f 762f 636f 7273 696b 612d 7061 6e61  i/v/corsika-pana
-00000250: 6d61 3f73 7479 6c65 3d66 6f72 2d74 6865  ma?style=for-the
-00000260: 2d62 6164 6765 295d 2868 7474 7073 3a2f  -badge)](https:/
-00000270: 2f70 7970 692e 6f72 672f 7072 6f6a 6563  /pypi.org/projec
-00000280: 742f 636f 7273 696b 612d 7061 6e61 6d61  t/corsika-panama
-00000290: 2f29 0a0a 5b21 5b47 6974 4875 6220 6973  /)..[![GitHub is
-000002a0: 7375 6573 5d28 6874 7470 733a 2f2f 696d  sues](https://im
-000002b0: 672e 7368 6965 6c64 732e 696f 2f67 6974  g.shields.io/git
-000002c0: 6875 622f 6973 7375 6573 2d72 6177 2f54  hub/issues-raw/T
-000002d0: 6865 2d4c 7564 7769 672f 5041 4e41 4d41  he-Ludwig/PANAMA
-000002e0: 3f73 7479 6c65 3d66 6f72 2d74 6865 2d62  ?style=for-the-b
-000002f0: 6164 6765 295d 2868 7474 7073 3a2f 2f67  adge)](https://g
-00000300: 6974 6875 622e 636f 6d2f 5468 652d 4c75  ithub.com/The-Lu
-00000310: 6477 6967 2f50 414e 414d 412f 6973 7375  dwig/PANAMA/issu
-00000320: 6573 290a 5b21 5b47 6974 4875 625d 2868  es).[![GitHub](h
-00000330: 7474 7073 3a2f 2f69 6d67 2e73 6869 656c  ttps://img.shiel
-00000340: 6473 2e69 6f2f 6769 7468 7562 2f6c 6963  ds.io/github/lic
-00000350: 656e 7365 2f54 6865 2d4c 7564 7769 672f  ense/The-Ludwig/
-00000360: 5041 4e41 4d41 3f73 7479 6c65 3d66 6f72  PANAMA?style=for
-00000370: 2d74 6865 2d62 6164 6765 295d 2868 7474  -the-badge)](htt
-00000380: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00000390: 5468 652d 4c75 6477 6967 2f50 414e 414d  The-Ludwig/PANAM
-000003a0: 412f 626c 6f62 2f6d 6169 6e2f 4c49 4345  A/blob/main/LICE
-000003b0: 4e53 4529 0a5b 215b 436f 6465 7374 796c  NSE).[![Codestyl
-000003c0: 655d 2868 7474 7073 3a2f 2f69 6d67 2e73  e](https://img.s
-000003d0: 6869 656c 6473 2e69 6f2f 6261 6467 652f  hields.io/badge/
-000003e0: 636f 6465 7379 6c65 2d42 6c61 636b 2d62  codesyle-Black-b
-000003f0: 6c61 636b 2e73 7667 3f73 7479 6c65 3d66  lack.svg?style=f
-00000400: 6f72 2d74 6865 2d62 6164 6765 295d 2868  or-the-badge)](h
-00000410: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00000420: 6d2f 7073 662f 626c 6163 6b29 0a0a 5468  m/psf/black)..Th
-00000430: 616e 6b73 205b 404a 6561 6e31 3939 355d  anks [@Jean1995]
-00000440: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00000450: 636f 6d2f 4a65 616e 3139 3935 2920 666f  com/Jean1995) fo
-00000460: 7220 7468 6520 7369 6c6c 7920 6e61 6d69  r the silly nami
-00000470: 6e67 2069 6465 612e 0a0a 2323 2049 6e73  ng idea...## Ins
-00000480: 7461 6c6c 6174 696f 6e0a 6060 600a 7069  tallation.```.pi
+00000000: 2320 5041 4e2a 6461 732a 2041 2a6e 642a  # PAN*das* A*nd*
+00000010: 204d 2a75 6c74 6963 6f72 6520 7574 696c   M*ulticore util
+00000020: 7320 666f 7220 636f 7273 696b 2a41 2a37  s for corsik*A*7
+00000030: 2a0a 0a5b 446f 6375 6d65 6e74 6174 696f  *..[Documentatio
+00000040: 6e20 215b 5265 6164 2074 6865 2044 6f63  n ![Read the Doc
+00000050: 735d 2868 7474 7073 3a2f 2f69 6d67 2e73  s](https://img.s
+00000060: 6869 656c 6473 2e69 6f2f 7265 6164 7468  hields.io/readth
+00000070: 6564 6f63 732f 7061 6e61 6d61 3f73 7479  edocs/panama?sty
+00000080: 6c65 3d66 6f72 2d74 6865 2d62 6164 6765  le=for-the-badge
+00000090: 295d 2868 7474 7073 3a2f 2f70 616e 616d  )](https://panam
+000000a0: 612e 7265 6164 7468 6564 6f63 732e 696f  a.readthedocs.io
+000000b0: 2f65 6e2f 6c61 7465 7374 2f29 0a0a 5b21  /en/latest/)..[!
+000000c0: 5b47 6974 4875 6220 576f 726b 666c 6f77  [GitHub Workflow
+000000d0: 2053 7461 7475 735d 2868 7474 7073 3a2f   Status](https:/
+000000e0: 2f69 6d67 2e73 6869 656c 6473 2e69 6f2f  /img.shields.io/
+000000f0: 6769 7468 7562 2f61 6374 696f 6e73 2f77  github/actions/w
+00000100: 6f72 6b66 6c6f 772f 7374 6174 7573 2f54  orkflow/status/T
+00000110: 6865 2d4c 7564 7769 672f 5041 4e41 4d41  he-Ludwig/PANAMA
+00000120: 2f63 692e 796d 6c3f 7374 796c 653d 666f  /ci.yml?style=fo
+00000130: 722d 7468 652d 6261 6467 6529 5d28 6874  r-the-badge)](ht
+00000140: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00000150: 2f54 6865 2d4c 7564 7769 672f 5041 4e41  /The-Ludwig/PANA
+00000160: 4d41 2f61 6374 696f 6e73 2f77 6f72 6b66  MA/actions/workf
+00000170: 6c6f 7773 2f63 692e 796d 6c29 0a5b 215b  lows/ci.yml).[![
+00000180: 436f 6465 636f 765d 2868 7474 7073 3a2f  Codecov](https:/
+00000190: 2f69 6d67 2e73 6869 656c 6473 2e69 6f2f  /img.shields.io/
+000001a0: 636f 6465 636f 762f 632f 6769 7468 7562  codecov/c/github
+000001b0: 2f54 6865 2d4c 7564 7769 672f 5041 4e41  /The-Ludwig/PANA
+000001c0: 4d41 3f6c 6162 656c 3d74 6573 7425 3230  MA?label=test%20
+000001d0: 636f 7665 7261 6765 2673 7479 6c65 3d66  coverage&style=f
+000001e0: 6f72 2d74 6865 2d62 6164 6765 295d 2868  or-the-badge)](h
+000001f0: 7474 7073 3a2f 2f61 7070 2e63 6f64 6563  ttps://app.codec
+00000200: 6f76 2e69 6f2f 6768 2f54 6865 2d4c 7564  ov.io/gh/The-Lud
+00000210: 7769 672f 5041 4e41 4d41 290a 5b21 5b50  wig/PANAMA).[![P
+00000220: 7950 495d 2868 7474 7073 3a2f 2f69 6d67  yPI](https://img
+00000230: 2e73 6869 656c 6473 2e69 6f2f 7079 7069  .shields.io/pypi
+00000240: 2f76 2f63 6f72 7369 6b61 2d70 616e 616d  /v/corsika-panam
+00000250: 613f 7374 796c 653d 666f 722d 7468 652d  a?style=for-the-
+00000260: 6261 6467 6529 5d28 6874 7470 733a 2f2f  badge)](https://
+00000270: 7079 7069 2e6f 7267 2f70 726f 6a65 6374  pypi.org/project
+00000280: 2f63 6f72 7369 6b61 2d70 616e 616d 612f  /corsika-panama/
+00000290: 290a 0a5b 215b 4769 7448 7562 2069 7373  )..[![GitHub iss
+000002a0: 7565 735d 2868 7474 7073 3a2f 2f69 6d67  ues](https://img
+000002b0: 2e73 6869 656c 6473 2e69 6f2f 6769 7468  .shields.io/gith
+000002c0: 7562 2f69 7373 7565 732d 7261 772f 5468  ub/issues-raw/Th
+000002d0: 652d 4c75 6477 6967 2f50 414e 414d 413f  e-Ludwig/PANAMA?
+000002e0: 7374 796c 653d 666f 722d 7468 652d 6261  style=for-the-ba
+000002f0: 6467 6529 5d28 6874 7470 733a 2f2f 6769  dge)](https://gi
+00000300: 7468 7562 2e63 6f6d 2f54 6865 2d4c 7564  thub.com/The-Lud
+00000310: 7769 672f 5041 4e41 4d41 2f69 7373 7565  wig/PANAMA/issue
+00000320: 7329 0a5b 215b 4769 7448 7562 5d28 6874  s).[![GitHub](ht
+00000330: 7470 733a 2f2f 696d 672e 7368 6965 6c64  tps://img.shield
+00000340: 732e 696f 2f67 6974 6875 622f 6c69 6365  s.io/github/lice
+00000350: 6e73 652f 5468 652d 4c75 6477 6967 2f50  nse/The-Ludwig/P
+00000360: 414e 414d 413f 7374 796c 653d 666f 722d  ANAMA?style=for-
+00000370: 7468 652d 6261 6467 6529 5d28 6874 7470  the-badge)](http
+00000380: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f54  s://github.com/T
+00000390: 6865 2d4c 7564 7769 672f 5041 4e41 4d41  he-Ludwig/PANAMA
+000003a0: 2f62 6c6f 622f 6d61 696e 2f4c 4943 454e  /blob/main/LICEN
+000003b0: 5345 290a 5b21 5b43 6f64 6573 7479 6c65  SE).[![Codestyle
+000003c0: 5d28 6874 7470 733a 2f2f 696d 672e 7368  ](https://img.sh
+000003d0: 6965 6c64 732e 696f 2f62 6164 6765 2f63  ields.io/badge/c
+000003e0: 6f64 6573 796c 652d 426c 6163 6b2d 626c  odesyle-Black-bl
+000003f0: 6163 6b2e 7376 673f 7374 796c 653d 666f  ack.svg?style=fo
+00000400: 722d 7468 652d 6261 6467 6529 5d28 6874  r-the-badge)](ht
+00000410: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00000420: 2f70 7366 2f62 6c61 636b 290a 0a54 6861  /psf/black)..Tha
+00000430: 6e6b 7320 5b40 4a65 616e 3139 3935 5d28  nks [@Jean1995](
+00000440: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00000450: 6f6d 2f4a 6561 6e31 3939 3529 2066 6f72  om/Jean1995) for
+00000460: 2074 6865 2073 696c 6c79 206e 616d 696e   the silly namin
+00000470: 6720 6964 6561 2e0a 0a23 2320 496e 7374  g idea...## Inst
+00000480: 616c 6c61 7469 6f6e 0a0a 6060 600a 7069  allation..```.pi
 00000490: 7020 696e 7374 616c 6c20 636f 7273 696b  p install corsik
 000004a0: 612d 7061 6e61 6d61 0a60 6060 0a0a 2323  a-panama.```..##
 000004b0: 2046 6561 7475 7265 730a 0a23 2323 2052   Features..### R
 000004c0: 756e 2043 4f52 5349 4b41 3720 6f6e 206d  un CORSIKA7 on m
-000004d0: 756c 7469 706c 6520 636f 7265 730a 596f  ultiple cores.Yo
-000004e0: 7520 6e65 6564 2074 6f20 6861 7665 205b  u need to have [
-000004f0: 6043 4f52 5349 4b41 3760 5d28 6874 7470  `CORSIKA7`](http
-00000500: 733a 2f2f 7777 772e 6961 702e 6b69 742e  s://www.iap.kit.
-00000510: 6564 752f 636f 7273 696b 612f 3739 2e70  edu/corsika/79.p
-00000520: 6870 2920 696e 7374 616c 6c65 6420 746f  hp) installed to
-00000530: 2072 756e 2074 6869 732e 0a0a 5275 6e6e   run this...Runn
-00000540: 696e 6720 3130 3020 7368 6f77 6572 7320  ing 100 showers 
-00000550: 6f6e 2034 2063 6f72 6573 2077 6974 6820  on 4 cores with 
-00000560: 7072 696d 6172 7920 6265 696e 6720 7072  primary being pr
-00000570: 6f74 6f6e 3a0a 6060 6073 680a 2420 7061  oton:.```sh.$ pa
-00000580: 6e61 6d61 2072 756e 202d 2d63 6f72 7369  nama run --corsi
-00000590: 6b61 2070 6174 682f 746f 2f63 6f72 7369  ka path/to/corsi
-000005a0: 6b61 372f 6578 6563 7574 6162 6c65 202d  ka7/executable -
-000005b0: 6a34 202e 2f74 6573 7473 2f66 696c 6573  j4 ./tests/files
-000005c0: 2f65 7861 6d70 6c65 5f63 6f72 7369 6b61  /example_corsika
-000005d0: 2e74 656d 706c 6174 650a 3833 257c e296  .template.83%|..
-000005e0: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
-000005f0: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
-00000600: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
-00000610: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
-00000620: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
-00000630: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
-00000640: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
-00000650: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
-00000660: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
-00000670: 88e2 9688 e296 88e2 9688 e296 8b20 2020  .............   
-00000680: 2020 2020 207c 2038 332e 302f 3130 3020       | 83.0/100 
-00000690: 5b30 303a 3133 3c30 303a 3032 2c20 362e  [00:13<00:02, 6.
-000006a0: 3336 7368 6f77 6572 2f73 5d0a 4a6f 6273  36shower/s].Jobs
-000006b0: 2073 686f 756c 6420 6265 206e 6561 726c   should be nearl
-000006c0: 7920 6669 6e69 7368 6564 2c20 6e6f 7720  y finished, now 
-000006d0: 7765 2077 6169 7420 666f 7220 7468 656d  we wait for them
-000006e0: 2074 6f20 6578 6974 0a41 6c6c 206a 6f62   to exit.All job
-000006f0: 7320 7465 726d 696e 6174 6564 2c20 636c  s terminated, cl
-00000700: 6561 6e75 7020 6e6f 770a 6060 600a 0a49  eanup now.```..I
-00000710: 6e6a 6563 7469 6e67 2035 2064 6966 6665  njecting 5 diffe
-00000720: 7265 6e74 2070 7269 6d61 7269 6573 2028  rent primaries (
-00000730: 5072 6f74 6f6e 2c20 4865 6c69 756d 2d34  Proton, Helium-4
-00000740: 2c20 4361 7262 6f6e 2d31 322c 2053 696c  , Carbon-12, Sil
-00000750: 6963 6f6e 2d32 382c 2049 726f 6e2d 3534  icon-28, Iron-54
-00000760: 2072 6f75 6768 6c79 2061 6c69 676e 696e   roughly alignin
-00000770: 6720 7769 7468 2067 726f 7570 696e 6720  g with grouping 
-00000780: 696e 2048 3361 2920 7769 7468 2065 6163  in H3a) with eac
-00000790: 6820 7072 696d 6172 7920 7368 6f77 6572  h primary shower
-000007a0: 2074 616b 696e 6720 3130 206a 6f62 733a   taking 10 jobs:
-000007b0: 0a60 6060 7368 0a24 2070 616e 616d 6120  .```sh.$ panama 
-000007c0: 7275 6e20 2d2d 636f 7273 696b 6120 636f  run --corsika co
-000007d0: 7273 696b 612d 3737 3432 302f 7275 6e2f  rsika-77420/run/
-000007e0: 636f 7273 696b 6137 3734 3230 4c69 6e75  corsika77420Linu
-000007f0: 785f 5349 4259 4c4c 5f75 7271 6d64 202d  x_SIBYLL_urqmd -
-00000800: 2d6a 6f62 7320 3130 202d 2d70 7269 6d61  -jobs 10 --prima
-00000810: 7279 2022 227b 3232 3132 3a20 3530 302c  ry ""{2212: 500,
-00000820: 2031 3030 3030 3230 3034 303a 2032 3530   1000020040: 250
-00000830: 2c20 3130 3030 3036 3031 3230 3a20 3530  , 1000060120: 50
-00000840: 2c20 3130 3030 3134 3032 3830 3a20 3530  , 1000140280: 50
-00000850: 2c20 3130 3030 3236 3035 3430 3a20 3530  , 1000260540: 50
-00000860: 7d22 2220 2e2f 7465 7374 732f 6669 6c65  }"" ./tests/file
-00000870: 732f 6578 616d 706c 655f 636f 7273 696b  s/example_corsik
-00000880: 612e 7465 6d70 6c61 7465 0a2e 2e2e 0a60  a.template.....`
-00000890: 6060 0a23 2323 2043 6f6e 7665 7274 2043  ``.### Convert C
-000008a0: 4f52 5349 4b41 3720 4441 5420 6669 6c65  ORSIKA7 DAT file
-000008b0: 7320 746f 2068 6466 3520 6669 6c65 730a  s to hdf5 files.
-000008c0: 6060 6073 680a 2420 7061 6e61 6d61 2068  ```sh.$ panama h
-000008d0: 6466 3520 7061 7468 2f74 6f2f 636f 7273  df5 path/to/cors
-000008e0: 696b 612f 6461 742f 6669 6c65 732f 4441  ika/dat/files/DA
-000008f0: 542a 206f 7574 7075 742e 6864 6635 0a60  T* output.hdf5.`
-00000900: 6060 0a54 6865 2064 6174 6120 6973 2061  ``.The data is a
-00000910: 7661 696c 6162 6520 756e 6465 7220 7468  vailabe under th
-00000920: 6520 6072 756e 5f68 6561 6465 7260 2060  e `run_header` `
-00000930: 6576 656e 745f 6865 6164 6572 6020 616e  event_header` an
-00000940: 6420 6070 6172 7469 636c 6573 6020 6b65  d `particles` ke
-00000950: 792e 0a0a 2323 2320 5265 6164 2043 4f52  y...### Read COR
-00000960: 5349 4b41 3720 4441 5420 6669 6c65 7320  SIKA7 DAT files 
-00000970: 746f 2070 616e 6461 7320 6461 7461 6672  to pandas datafr
-00000980: 616d 6573 0a45 7861 6d70 6c65 3a20 4361  ames.Example: Ca
-00000990: 6c63 756c 6174 6520 6d65 616e 2065 6e65  lculate mean ene
-000009a0: 7267 7920 696e 2074 6865 2063 6f72 7369  rgy in the corsi
-000009b0: 6b61 2066 696c 6573 2063 7265 6174 6564  ka files created
-000009c0: 2069 6e20 7468 6520 6578 616d 706c 6520   in the example 
-000009d0: 6162 6f76 653a 0a60 6060 7079 7468 6f6e  above:.```python
-000009e0: 0a49 6e20 5b31 5d3a 2069 6d70 6f72 7420  .In [1]: import 
-000009f0: 7061 6e61 6d61 2061 7320 706e 0a0a 496e  panama as pn..In
-00000a00: 205b 325d 3a20 7275 6e5f 6865 6164 6572   [2]: run_header
-00000a10: 2c20 6576 656e 745f 6865 6164 6572 2c20  , event_header, 
-00000a20: 7061 7274 6963 6c65 7320 3d20 706e 2e72  particles = pn.r
-00000a30: 6561 645f 4441 5428 676c 6f62 3d22 636f  ead_DAT(glob="co
-00000a40: 7273 696b 615f 6f75 7470 7574 2f44 4154  rsika_output/DAT
-00000a50: 2a22 290a 3130 3025 7ce2 9688 e296 88e2  *").100%|.......
+000004d0: 756c 7469 706c 6520 636f 7265 730a 0a59  ultiple cores..Y
+000004e0: 6f75 206e 6565 6420 746f 2068 6176 6520  ou need to have 
+000004f0: 5b60 434f 5253 494b 4137 605d 2868 7474  [`CORSIKA7`](htt
+00000500: 7073 3a2f 2f77 7777 2e69 6170 2e6b 6974  ps://www.iap.kit
+00000510: 2e65 6475 2f63 6f72 7369 6b61 2f37 392e  .edu/corsika/79.
+00000520: 7068 7029 2069 6e73 7461 6c6c 6564 2074  php) installed t
+00000530: 6f20 7275 6e20 7468 6973 2e0a 0a52 756e  o run this...Run
+00000540: 6e69 6e67 2031 3030 2073 686f 7765 7273  ning 100 showers
+00000550: 206f 6e20 3420 636f 7265 7320 7769 7468   on 4 cores with
+00000560: 2070 7269 6d61 7279 2062 6569 6e67 2070   primary being p
+00000570: 726f 746f 6e3a 0a0a 6060 6073 680a 2420  roton:..```sh.$ 
+00000580: 7061 6e61 6d61 2072 756e 202d 2d63 6f72  panama run --cor
+00000590: 7369 6b61 2070 6174 682f 746f 2f63 6f72  sika path/to/cor
+000005a0: 7369 6b61 372f 6578 6563 7574 6162 6c65  sika7/executable
+000005b0: 202d 6a34 202e 2f74 6573 7473 2f66 696c   -j4 ./tests/fil
+000005c0: 6573 2f65 7861 6d70 6c65 5f63 6f72 7369  es/example_corsi
+000005d0: 6b61 2e74 656d 706c 6174 650a 3833 257c  ka.template.83%|
+000005e0: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
+000005f0: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
+00000600: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
+00000610: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
+00000620: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
+00000630: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
+00000640: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
+00000650: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
+00000660: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
+00000670: e296 88e2 9688 e296 88e2 9688 e296 8b20  ............... 
+00000680: 2020 2020 2020 207c 2038 332e 302f 3130         | 83.0/10
+00000690: 3020 5b30 303a 3133 3c30 303a 3032 2c20  0 [00:13<00:02, 
+000006a0: 362e 3336 7368 6f77 6572 2f73 5d0a 4a6f  6.36shower/s].Jo
+000006b0: 6273 2073 686f 756c 6420 6265 206e 6561  bs should be nea
+000006c0: 726c 7920 6669 6e69 7368 6564 2c20 6e6f  rly finished, no
+000006d0: 7720 7765 2077 6169 7420 666f 7220 7468  w we wait for th
+000006e0: 656d 2074 6f20 6578 6974 0a41 6c6c 206a  em to exit.All j
+000006f0: 6f62 7320 7465 726d 696e 6174 6564 2c20  obs terminated, 
+00000700: 636c 6561 6e75 7020 6e6f 770a 6060 600a  cleanup now.```.
+00000710: 0a49 6e6a 6563 7469 6e67 2035 2064 6966  .Injecting 5 dif
+00000720: 6665 7265 6e74 2070 7269 6d61 7269 6573  ferent primaries
+00000730: 2028 5072 6f74 6f6e 2c20 4865 6c69 756d   (Proton, Helium
+00000740: 2d34 2c20 4361 7262 6f6e 2d31 322c 2053  -4, Carbon-12, S
+00000750: 696c 6963 6f6e 2d32 382c 2049 726f 6e2d  ilicon-28, Iron-
+00000760: 3534 2072 6f75 6768 6c79 2061 6c69 676e  54 roughly align
+00000770: 696e 6720 7769 7468 2067 726f 7570 696e  ing with groupin
+00000780: 6720 696e 2048 3361 2920 7769 7468 2065  g in H3a) with e
+00000790: 6163 6820 7072 696d 6172 7920 7368 6f77  ach primary show
+000007a0: 6572 2074 616b 696e 6720 3130 206a 6f62  er taking 10 job
+000007b0: 733a 0a0a 6060 6073 680a 2420 7061 6e61  s:..```sh.$ pana
+000007c0: 6d61 2072 756e 202d 2d63 6f72 7369 6b61  ma run --corsika
+000007d0: 2063 6f72 7369 6b61 2d37 3734 3230 2f72   corsika-77420/r
+000007e0: 756e 2f63 6f72 7369 6b61 3737 3432 304c  un/corsika77420L
+000007f0: 696e 7578 5f53 4942 594c 4c5f 7572 716d  inux_SIBYLL_urqm
+00000800: 6420 2d2d 6a6f 6273 2031 3020 2d2d 7072  d --jobs 10 --pr
+00000810: 696d 6172 7920 2222 7b32 3231 323a 2035  imary ""{2212: 5
+00000820: 3030 2c20 3130 3030 3032 3030 3430 3a20  00, 1000020040: 
+00000830: 3235 302c 2031 3030 3030 3630 3132 303a  250, 1000060120:
+00000840: 2035 302c 2031 3030 3031 3430 3238 303a   50, 1000140280:
+00000850: 2035 302c 2031 3030 3032 3630 3534 303a   50, 1000260540:
+00000860: 2035 307d 2222 202e 2f74 6573 7473 2f66   50}"" ./tests/f
+00000870: 696c 6573 2f65 7861 6d70 6c65 5f63 6f72  iles/example_cor
+00000880: 7369 6b61 2e74 656d 706c 6174 650a 2e2e  sika.template...
+00000890: 2e0a 6060 600a 0a23 2323 2043 6f6e 7665  ..```..### Conve
+000008a0: 7274 2043 4f52 5349 4b41 3720 4441 5420  rt CORSIKA7 DAT 
+000008b0: 6669 6c65 7320 746f 2068 6466 3520 6669  files to hdf5 fi
+000008c0: 6c65 730a 0a60 6060 7368 0a24 2070 616e  les..```sh.$ pan
+000008d0: 616d 6120 6864 6635 2070 6174 682f 746f  ama hdf5 path/to
+000008e0: 2f63 6f72 7369 6b61 2f64 6174 2f66 696c  /corsika/dat/fil
+000008f0: 6573 2f44 4154 2a20 6f75 7470 7574 2e68  es/DAT* output.h
+00000900: 6466 350a 6060 600a 0a54 6865 2064 6174  df5.```..The dat
+00000910: 6120 6973 2061 7661 696c 6162 6c65 2075  a is available u
+00000920: 6e64 6572 2074 6865 2060 7275 6e5f 6865  nder the `run_he
+00000930: 6164 6572 6020 6065 7665 6e74 5f68 6561  ader` `event_hea
+00000940: 6465 7260 2061 6e64 2060 7061 7274 6963  der` and `partic
+00000950: 6c65 7360 206b 6579 2e0a 0a23 2323 2052  les` key...### R
+00000960: 6561 6420 434f 5253 494b 4137 2044 4154  ead CORSIKA7 DAT
+00000970: 2066 696c 6573 2074 6f20 7061 6e64 6173   files to pandas
+00000980: 2064 6174 6166 7261 6d65 730a 0a45 7861   dataframes..Exa
+00000990: 6d70 6c65 3a20 4361 6c63 756c 6174 6520  mple: Calculate 
+000009a0: 6d65 616e 2065 6e65 7267 7920 696e 2074  mean energy in t
+000009b0: 6865 2063 6f72 7369 6b61 2066 696c 6573  he corsika files
+000009c0: 2063 7265 6174 6564 2069 6e20 7468 6520   created in the 
+000009d0: 6578 616d 706c 6520 6162 6f76 653a 0a0a  example above:..
+000009e0: 6060 600a 496e 205b 315d 3a20 696d 706f  ```.In [1]: impo
+000009f0: 7274 2070 616e 616d 6120 6173 2070 6e0a  rt panama as pn.
+00000a00: 0a49 6e20 5b32 5d3a 2072 756e 5f68 6561  .In [2]: run_hea
+00000a10: 6465 722c 2065 7665 6e74 5f68 6561 6465  der, event_heade
+00000a20: 722c 2070 6172 7469 636c 6573 203d 2070  r, particles = p
+00000a30: 6e2e 7265 6164 5f44 4154 2867 6c6f 623d  n.read_DAT(glob=
+00000a40: 2263 6f72 7369 6b61 5f6f 7574 7075 742f  "corsika_output/
+00000a50: 4441 542a 2229 0a31 3030 257c e296 88e2  DAT*").100%|....
 00000a60: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
 00000a70: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
 00000a80: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
 00000a90: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
 00000aa0: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
 00000ab0: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
 00000ac0: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
 00000ad0: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
 00000ae0: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
 00000af0: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
-00000b00: 88e2 9688 e296 88e2 9688 e296 887c 2032  .............| 2
-00000b10: 3030 302f 3230 3030 2e30 205b 3030 3a30  000/2000.0 [00:0
-00000b20: 303c 3030 3a30 302c 2031 3031 3237 2e34  0<00:00, 10127.4
-00000b30: 3569 742f 735d 0a49 6e20 5b33 5d3a 2070  5it/s].In [3]: p
-00000b40: 6172 7469 636c 6573 5b22 656e 6572 6779  articles["energy
-00000b50: 225d 2e6d 6561 6e28 290a 4f75 745b 335d  "].mean().Out[3]
-00000b60: 3a20 3236 3532 352e 3631 3130 3230 3431  : 26525.61102041
-00000b70: 3337 3434 0a60 6060 0a0a 6072 756e 5f68  3744.```..`run_h
-00000b80: 6561 6465 7260 2c20 6065 7665 6e74 5f68  eader`, `event_h
-00000b90: 6561 6465 7260 2061 6e64 2060 7061 7274  eader` and `part
-00000ba0: 6963 6c65 7360 2061 7265 2061 6c6c 205b  icles` are all [
-00000bb0: 7061 6e64 6173 2e44 6174 6146 7261 6d65  pandas.DataFrame
-00000bc0: 735d 2868 7474 7073 3a2f 2f70 616e 6461  s](https://panda
-00000bd0: 732e 7079 6461 7461 2e6f 7267 2f64 6f63  s.pydata.org/doc
-00000be0: 732f 7265 6665 7265 6e63 652f 6170 692f  s/reference/api/
-00000bf0: 7061 6e64 6173 2e44 6174 6146 7261 6d65  pandas.DataFrame
-00000c00: 2e68 746d 6c29 2061 6e64 2063 616e 2063  .html) and can c
-00000c10: 6f6e 7665 6e69 656e 746c 7920 6265 2075  onveniently be u
-00000c20: 7365 642e 0a0a 4966 2060 434f 5253 494b  sed...If `CORSIK
-00000c30: 4137 6020 6973 2063 6f6d 7069 6c65 6420  A7` is compiled 
-00000c40: 7769 7468 2074 6865 2060 4548 4953 5460  with the `EHIST`
-00000c50: 206f 7074 696f 6e2c 2074 6865 6e20 7468   option, then th
-00000c60: 6520 6d6f 7468 6572 2070 6172 7469 636c  e mother particl
-00000c70: 6573 2061 7265 2061 7574 6f6d 6174 6963  es are automatic
-00000c80: 616c 6c79 2064 656c 6574 6564 2c20 6279  ally deleted, by
-00000c90: 2064 6566 6175 6c74 2028 7468 6973 2062   default (this b
-00000ca0: 6568 6176 696f 7572 2063 616e 2062 6520  ehaviour can be 
-00000cb0: 6368 616e 6765 6420 7769 7468 6064 726f  changed with`dro
-00000cc0: 705f 6d6f 7468 6572 733d 4661 6c73 6560  p_mothers=False`
-00000cd0: 292e 0a49 6620 796f 7520 7761 6e74 2061  )..If you want a
-00000ce0: 6464 6974 696f 6e61 6c20 636f 6c75 6d6e  dditional column
-00000cf0: 7320 696e 2074 6865 2072 6561 6c20 7061  s in the real pa
-00000d00: 7274 6963 6c65 7320 7374 6f72 696e 6720  rticles storing 
-00000d10: 7468 6520 6d6f 7468 6572 2069 6e66 6f72  the mother infor
-00000d20: 6d61 7469 6f6e 2075 7365 2060 6d6f 7468  mation use `moth
-00000d30: 6572 5f63 6f6c 756d 6e73 3d54 7275 6560  er_columns=True`
-00000d40: 2e0a 0a23 2323 2057 6569 6768 7469 6e67  ...### Weighting
-00000d50: 2074 6f20 7072 696d 6172 7920 7370 6563   to primary spec
-00000d60: 7472 756d 0a54 6869 7320 7061 636b 6167  trum.This packag
-00000d70: 6573 2061 6c73 6f20 7072 6f76 6964 6573  es also provides
-00000d80: 2066 6163 696c 6974 7920 746f 2061 6464   facility to add
-00000d90: 2061 2060 7765 6967 6874 6020 636f 6c75   a `weight` colu
-00000da0: 6d6e 2074 6f20 7468 6520 6461 7461 6672  mn to the datafr
-00000db0: 616d 652c 2073 6f20 796f 7520 6361 6e20  ame, so you can 
-00000dc0: 6c6f 6f6b 2061 7420 636f 7273 696b 612d  look at corsika-
-00000dd0: 6f75 7470 7574 0a69 6e20 7068 7973 6963  output.in physic
-00000de0: 616c 2066 6c75 7820 696e 2074 6572 6d73  al flux in terms
-00000df0: 206f 6620 2428 5c6d 6174 6872 6d7b 6d5e   of $(\mathrm{m^
-00000e00: 327d 205c 6d61 7468 726d 7b73 7d5c 205c  2} \mathrm{s}\ \
-00000e10: 6d61 7468 726d 7b73 727d 5c20 5c6d 6174  mathrm{sr}\ \mat
-00000e20: 6872 6d7b 4765 567d 295e 7b2d 317d 242e  hrm{GeV})^{-1}$.
-00000e30: 0a55 7369 6e67 2074 6865 2065 7861 6d70  .Using the examp
-00000e40: 6c65 2061 626f 7665 2c20 746f 2067 6574  le above, to get
-00000e50: 2074 6865 2077 686f 6c65 2070 6879 7369   the whole physi
-00000e60: 6361 6c20 666c 7578 2069 6e20 7468 6520  cal flux in the 
-00000e70: 636f 6d70 6c65 7465 2073 696d 756c 6174  complete simulat
-00000e80: 6564 2065 6e65 7267 7920 7265 6769 6f6e  ed energy region
-00000e90: 3a0a 6060 6070 7974 686f 6e0a 496e 205b  :.```python.In [
-00000ea0: 315d 3a20 696d 706f 7274 2070 616e 616d  1]: import panam
-00000eb0: 6120 6173 2070 6e0a 0a49 6e20 5b32 5d3a  a as pn..In [2]:
-00000ec0: 2072 756e 5f68 6561 6465 722c 2065 7665   run_header, eve
-00000ed0: 6e74 5f68 6561 6465 722c 2070 6172 7469  nt_header, parti
-00000ee0: 636c 6573 203d 2070 6e2e 7265 6164 5f44  cles = pn.read_D
-00000ef0: 4154 2867 6c6f 623d 2263 6f72 7369 6b61  AT(glob="corsika
-00000f00: 5f6f 7574 7075 742f 4441 542a 2229 0a31  _output/DAT*").1
-00000f10: 3030 257c e296 88e2 9688 e296 88e2 9688  00%|............
-00000f20: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
-00000f30: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
-00000f40: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
-00000f50: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
-00000f60: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
-00000f70: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
-00000f80: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
-00000f90: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
-00000fa0: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
-00000fb0: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
-00000fc0: 9688 e296 88e2 9688 7c20 3230 3030 2f32  ........| 2000/2
-00000fd0: 3030 302e 3020 5b30 303a 3030 3c30 303a  000.0 [00:00<00:
-00000fe0: 3030 2c20 3130 3132 372e 3435 6974 2f73  00, 10127.45it/s
-00000ff0: 5d0a 496e 205b 335d 3a20 706e 2e61 6464  ].In [3]: pn.add
-00001000: 5f77 6569 6768 7428 7275 6e5f 6865 6164  _weight(run_head
-00001010: 6572 2c20 6576 656e 745f 6865 6164 6572  er, event_header
-00001020: 2c20 7061 7274 6963 6c65 7329 0a0a 496e  , particles)..In
-00001030: 205b 345d 3a20 7061 7274 6963 6c65 735b   [4]: particles[
-00001040: 2277 6569 6768 7422 5d2e 7375 6d28 292a  "weight"].sum()*
-00001050: 2872 756e 5f68 6561 6465 725b 2265 6e65  (run_header["ene
-00001060: 7267 795f 6d61 7822 5d2d 7275 6e5f 6865  rgy_max"]-run_he
-00001070: 6164 6572 5b22 656e 6572 6779 5f6d 696e  ader["energy_min
-00001080: 225d 290a 4f75 745b 345d 3a0a 7275 6e5f  "]).Out[4]:.run_
-00001090: 6e75 6d62 6572 0a31 2e30 2020 2020 3132  number.1.0    12
-000010a0: 3334 2e36 3933 3438 310a 302e 3020 2020  34.693481.0.0   
-000010b0: 2031 3233 342e 3639 3334 3831 0a33 2e30   1234.693481.3.0
-000010c0: 2020 2020 3132 3334 2e36 3933 3438 310a      1234.693481.
-000010d0: 322e 3020 2020 2031 3233 342e 3639 3334  2.0    1234.6934
-000010e0: 3831 0a64 7479 7065 3a20 666c 6f61 7433  81.dtype: float3
-000010f0: 320a 0a60 6060 0a57 6869 6368 2069 7320  2..```.Which is 
+00000b00: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
+00000b10: 7c20 3230 3030 2f32 3030 302e 3020 5b30  | 2000/2000.0 [0
+00000b20: 303a 3030 3c30 303a 3030 2c20 3130 3132  0:00<00:00, 1012
+00000b30: 372e 3435 6974 2f73 5d0a 496e 205b 335d  7.45it/s].In [3]
+00000b40: 3a20 7061 7274 6963 6c65 735b 2265 6e65  : particles["ene
+00000b50: 7267 7922 5d2e 6d65 616e 2829 0a4f 7574  rgy"].mean().Out
+00000b60: 5b33 5d3a 2032 3635 3235 2e36 3131 3032  [3]: 26525.61102
+00000b70: 3034 3133 3734 340a 6060 600a 0a60 7275  0413744.```..`ru
+00000b80: 6e5f 6865 6164 6572 602c 2060 6576 656e  n_header`, `even
+00000b90: 745f 6865 6164 6572 6020 616e 6420 6070  t_header` and `p
+00000ba0: 6172 7469 636c 6573 6020 6172 6520 616c  articles` are al
+00000bb0: 6c20 5b70 616e 6461 732e 4461 7461 4672  l [pandas.DataFr
+00000bc0: 616d 6573 5d28 6874 7470 733a 2f2f 7061  ames](https://pa
+00000bd0: 6e64 6173 2e70 7964 6174 612e 6f72 672f  ndas.pydata.org/
+00000be0: 646f 6373 2f72 6566 6572 656e 6365 2f61  docs/reference/a
+00000bf0: 7069 2f70 616e 6461 732e 4461 7461 4672  pi/pandas.DataFr
+00000c00: 616d 652e 6874 6d6c 2920 616e 6420 6361  ame.html) and ca
+00000c10: 6e20 636f 6e76 656e 6965 6e74 6c79 2062  n conveniently b
+00000c20: 6520 7573 6564 2e0a 0a49 6620 6043 4f52  e used...If `COR
+00000c30: 5349 4b41 3760 2069 7320 636f 6d70 696c  SIKA7` is compil
+00000c40: 6564 2077 6974 6820 7468 6520 6045 4849  ed with the `EHI
+00000c50: 5354 6020 6f70 7469 6f6e 2c20 7468 656e  ST` option, then
+00000c60: 2074 6865 206d 6f74 6865 7220 7061 7274   the mother part
+00000c70: 6963 6c65 7320 6172 6520 6175 746f 6d61  icles are automa
+00000c80: 7469 6361 6c6c 7920 6465 6c65 7465 642c  tically deleted,
+00000c90: 2062 7920 6465 6661 756c 7420 2874 6869   by default (thi
+00000ca0: 7320 6265 6861 7669 6f75 7220 6361 6e20  s behaviour can 
+00000cb0: 6265 2063 6861 6e67 6564 2077 6974 6860  be changed with`
+00000cc0: 6472 6f70 5f6d 6f74 6865 7273 3d46 616c  drop_mothers=Fal
+00000cd0: 7365 6029 2e0a 4966 2079 6f75 2077 616e  se`)..If you wan
+00000ce0: 7420 6164 6469 7469 6f6e 616c 2063 6f6c  t additional col
+00000cf0: 756d 6e73 2069 6e20 7468 6520 7265 616c  umns in the real
+00000d00: 2070 6172 7469 636c 6573 2073 746f 7269   particles stori
+00000d10: 6e67 2074 6865 206d 6f74 6865 7220 696e  ng the mother in
+00000d20: 666f 726d 6174 696f 6e20 7573 6520 606d  formation use `m
+00000d30: 6f74 6865 725f 636f 6c75 6d6e 733d 5472  other_columns=Tr
+00000d40: 7565 602e 0a0a 2323 2320 5765 6967 6874  ue`...### Weight
+00000d50: 696e 6720 746f 2070 7269 6d61 7279 2073  ing to primary s
+00000d60: 7065 6374 7275 6d0a 0a54 6869 7320 7061  pectrum..This pa
+00000d70: 636b 6167 6573 2061 6c73 6f20 7072 6f76  ckages also prov
+00000d80: 6964 6573 2066 6163 696c 6974 7920 746f  ides facility to
+00000d90: 2061 6464 2061 2060 7765 6967 6874 6020   add a `weight` 
+00000da0: 636f 6c75 6d6e 2074 6f20 7468 6520 6461  column to the da
+00000db0: 7461 6672 616d 652c 2073 6f20 796f 7520  taframe, so you 
+00000dc0: 6361 6e20 6c6f 6f6b 2061 7420 636f 7273  can look at cors
+00000dd0: 696b 612d 6f75 7470 7574 0a69 6e20 7068  ika-output.in ph
+00000de0: 7973 6963 616c 2066 6c75 7820 696e 2074  ysical flux in t
+00000df0: 6572 6d73 206f 6620 2428 5c6d 6174 6872  erms of $(\mathr
+00000e00: 6d7b 6d5e 327d 205c 6d61 7468 726d 7b73  m{m^2} \mathrm{s
+00000e10: 7d5c 205c 6d61 7468 726d 7b73 727d 5c20  }\ \mathrm{sr}\ 
+00000e20: 5c6d 6174 6872 6d7b 4765 567d 295e 7b2d  \mathrm{GeV})^{-
+00000e30: 317d 242e 0a55 7369 6e67 2074 6865 2065  1}$..Using the e
+00000e40: 7861 6d70 6c65 2061 626f 7665 2c20 746f  xample above, to
+00000e50: 2067 6574 2074 6865 2077 686f 6c65 2070   get the whole p
+00000e60: 6879 7369 6361 6c20 666c 7578 2069 6e20  hysical flux in 
+00000e70: 7468 6520 636f 6d70 6c65 7465 2073 696d  the complete sim
+00000e80: 756c 6174 6564 2065 6e65 7267 7920 7265  ulated energy re
+00000e90: 6769 6f6e 3a0a 0a60 6060 0a49 6e20 5b31  gion:..```.In [1
+00000ea0: 5d3a 2069 6d70 6f72 7420 7061 6e61 6d61  ]: import panama
+00000eb0: 2061 7320 706e 0a0a 496e 205b 325d 3a20   as pn..In [2]: 
+00000ec0: 7275 6e5f 6865 6164 6572 2c20 6576 656e  run_header, even
+00000ed0: 745f 6865 6164 6572 2c20 7061 7274 6963  t_header, partic
+00000ee0: 6c65 7320 3d20 706e 2e72 6561 645f 4441  les = pn.read_DA
+00000ef0: 5428 676c 6f62 3d22 636f 7273 696b 615f  T(glob="corsika_
+00000f00: 6f75 7470 7574 2f44 4154 2a22 290a 3130  output/DAT*").10
+00000f10: 3025 7ce2 9688 e296 88e2 9688 e296 88e2  0%|.............
+00000f20: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
+00000f30: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
+00000f40: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
+00000f50: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
+00000f60: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
+00000f70: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
+00000f80: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
+00000f90: 88e2 9688 e296 88e2 9688 e296 88e2 9688  ................
+00000fa0: e296 88e2 9688 e296 88e2 9688 e296 88e2  ................
+00000fb0: 9688 e296 88e2 9688 e296 88e2 9688 e296  ................
+00000fc0: 88e2 9688 e296 887c 2032 3030 302f 3230  .......| 2000/20
+00000fd0: 3030 2e30 205b 3030 3a30 303c 3030 3a30  00.0 [00:00<00:0
+00000fe0: 302c 2031 3031 3237 2e34 3569 742f 735d  0, 10127.45it/s]
+00000ff0: 0a49 6e20 5b33 5d3a 2070 6e2e 6164 645f  .In [3]: pn.add_
+00001000: 7765 6967 6874 2872 756e 5f68 6561 6465  weight(run_heade
+00001010: 722c 2065 7665 6e74 5f68 6561 6465 722c  r, event_header,
+00001020: 2070 6172 7469 636c 6573 290a 0a49 6e20   particles)..In 
+00001030: 5b34 5d3a 2070 6172 7469 636c 6573 5b22  [4]: particles["
+00001040: 7765 6967 6874 225d 2e73 756d 2829 2a28  weight"].sum()*(
+00001050: 7275 6e5f 6865 6164 6572 5b22 656e 6572  run_header["ener
+00001060: 6779 5f6d 6178 225d 2d72 756e 5f68 6561  gy_max"]-run_hea
+00001070: 6465 725b 2265 6e65 7267 795f 6d69 6e22  der["energy_min"
+00001080: 5d29 0a4f 7574 5b34 5d3a 0a72 756e 5f6e  ]).Out[4]:.run_n
+00001090: 756d 6265 720a 312e 3020 2020 2031 3233  umber.1.0    123
+000010a0: 342e 3639 3334 3831 0a30 2e30 2020 2020  4.693481.0.0    
+000010b0: 3132 3334 2e36 3933 3438 310a 332e 3020  1234.693481.3.0 
+000010c0: 2020 2031 3233 342e 3639 3334 3831 0a32     1234.693481.2
+000010d0: 2e30 2020 2020 3132 3334 2e36 3933 3438  .0    1234.69348
+000010e0: 310a 6474 7970 653a 2066 6c6f 6174 3332  1.dtype: float32
+000010f0: 0a0a 6060 600a 0a57 6869 6368 2069 7320  ..```..Which is 
 00001100: 696e 2075 6e69 7473 206f 6620 2428 5c6d  in units of $(\m
 00001110: 6174 6872 6d7b 6d5e 327d 5c20 5c6d 6174  athrm{m^2}\ \mat
 00001120: 6872 6d7b 737d 5c20 5c6d 6174 6872 6d7b  hrm{s}\ \mathrm{
 00001130: 7372 7d29 5e7b 2d31 7d24 2e20 5765 2067  sr})^{-1}$. We g
 00001140: 6574 2061 2072 6573 756c 7420 666f 7220  et a result for 
 00001150: 6561 6368 2072 756e 2c20 7369 6e63 650a  each run, since.
 00001160: 696e 2074 6865 6f72 7920 7765 2063 6f75  in theory we cou
@@ -296,57 +296,57 @@
 00001270: 6420 7769 7468 2050 414e 414d 412e 0a0a  d with PANAMA...
 00001280: 544f 444f 3a20 4265 7474 6572 2064 6f63  TODO: Better doc
 00001290: 756d 656e 7461 7469 6f6e 206f 6620 7765  umentation of we
 000012a0: 6967 6874 696e 6720 2877 6861 7420 6973  ighting (what is
 000012b0: 2077 6569 6768 7465 642c 2068 6f77 2c20   weighted, how, 
 000012c0: 7072 6f74 6f6e 2f6e 6575 7472 6f6e 732c  proton/neutrons,
 000012d0: 2061 7265 612e 2e2e 3f29 0a0a 2323 2323   area...?)..####
-000012e0: 204e 6f74 6573 3a0a 5468 6973 2073 7461   Notes:.This sta
-000012f0: 7274 6564 2061 206c 6974 746c 6520 7768  rted a little wh
-00001300: 696c 6520 6167 6f20 7768 696c 6520 4920  ile ago while I 
-00001310: 7761 7320 6c6f 6f6b 696e 6720 696e 746f  was looking into
-00001320: 2074 6865 2060 4548 4953 5460 206f 7074   the `EHIST` opt
-00001330: 696f 6e0a 6f66 2063 6f72 7369 6b61 2e0a  ion.of corsika..
-00001340: 4920 7761 6e74 6564 2061 2077 6179 206f  I wanted a way o
-00001350: 6620 636f 6e76 656e 6965 6e74 6c79 2072  f conveniently r
-00001360: 756e 6e69 6e67 2043 4f52 5349 4b41 3720  unning CORSIKA7 
-00001370: 6f6e 206d 6f72 6520 7468 616e 2031 2063  on more than 1 c
-00001380: 6f72 652e 0a49 2065 6e64 6564 2069 6e20  ore..I ended in 
-00001390: 7468 6520 7361 6d65 2070 6c61 6365 2077  the same place w
-000013a0: 6865 7265 206d 6f73 7420 434f 5253 494b  here most CORSIK
-000013b0: 4137 2075 7365 7273 2065 6e64 2028 7365  A7 users end (se
-000013c0: 6520 652e 672e 205b 6661 6374 2d70 726f  e e.g. [fact-pro
-000013d0: 6a65 6374 2f63 6f72 7369 6b61 5f77 7261  ject/corsika_wra
-000013e0: 7070 6572 5d28 6874 7470 733a 2f2f 6769  pper](https://gi
-000013f0: 7468 7562 2e63 6f6d 2f66 6163 742d 7072  thub.com/fact-pr
-00001400: 6f6a 6563 742f 636f 7273 696b 615f 7772  oject/corsika_wr
-00001410: 6170 7065 7229 290a 616e 6420 7772 6f74  apper)).and wrot
-00001420: 6520 6120 736d 616c 6c20 7772 6170 7065  e a small wrappe
-00001430: 722e 0a0a 7265 6164 5f44 4154 206d 6164  r...read_DAT mad
-00001440: 6520 706f 7373 6962 6c65 2062 7920 5b63  e possible by [c
-00001450: 7461 2d6f 6273 6572 7661 746f 7279 2f70  ta-observatory/p
-00001460: 7963 6f72 7369 6b61 696f 5d28 6874 7470  ycorsikaio](http
-00001470: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f63  s://github.com/c
-00001480: 7461 2d6f 6273 6572 7661 746f 7279 2f70  ta-observatory/p
-00001490: 7963 6f72 7369 6b61 696f 292e 0a0a 2323  ycorsikaio)...##
-000014a0: 2323 2050 6974 6661 6c6c 730a 2d20 5468  ## Pitfalls.- Th
-000014b0: 6520 7768 6f6c 6520 6072 756e 6020 666f  e whole `run` fo
-000014c0: 6c64 6572 206f 6620 434f 5253 494b 4137  lder of CORSIKA7
-000014d0: 206d 7573 7420 6265 2063 6f70 6965 6420   must be copied 
-000014e0: 666f 7220 6561 6368 2070 726f 6363 6573  for each procces
-000014f0: 732c 2073 6f20 7665 7279 2068 6967 6820  s, so very high 
-00001500: 7061 7261 6c6c 656c 2072 756e 7320 6861  parallel runs ha
-00001510: 7665 2068 6967 6820 6f76 6572 6865 6164  ve high overhead
-00001520: 0a2d 2049 6620 796f 7520 7369 6d75 6c61  .- If you simula
-00001530: 7465 2074 6f20 6c6f 7720 656e 6572 6769  te to low energi
-00001540: 6573 2c20 7079 7468 6f6e 2063 616e 2774  es, python can't
-00001550: 2073 6565 6d20 746f 2068 6f6c 6420 7570   seem to hold up
-00001560: 2077 6974 6820 7468 6520 636f 7273 696b   with the corsik
-00001570: 6120 6f75 7470 7574 2074 6f20 6073 7464  a output to `std
-00001580: 696e 6020 616e 6420 6573 7365 6e74 6961  in` and essentia
-00001590: 6c6c 7920 736c 6f77 7320 646f 776e 2063  lly slows down c
-000015a0: 6f72 7369 6b61 2074 6869 7320 6973 2073  orsika this is s
-000015b0: 7469 6c6c 2061 2062 7567 2069 6e20 696e  till a bug in in
-000015c0: 7665 7374 6967 6174 696f 6e20 2331 0a0a  vestigation #1..
-000015d0: 2323 2057 6861 7420 7468 6973 2069 7320  ## What this is 
-000015e0: 6e6f 740a 4275 672d 6672 6565 206f 7220  not.Bug-free or 
-000015f0: 7374 6162 6c65 0a                        stable.
+000012e0: 204e 6f74 6573 3a0a 0a54 6869 7320 7374   Notes:..This st
+000012f0: 6172 7465 6420 6120 6c69 7474 6c65 2077  arted a little w
+00001300: 6869 6c65 2061 676f 2077 6869 6c65 2049  hile ago while I
+00001310: 2077 6173 206c 6f6f 6b69 6e67 2069 6e74   was looking int
+00001320: 6f20 7468 6520 6045 4849 5354 6020 6f70  o the `EHIST` op
+00001330: 7469 6f6e 0a6f 6620 636f 7273 696b 612e  tion.of corsika.
+00001340: 0a49 2077 616e 7465 6420 6120 7761 7920  .I wanted a way 
+00001350: 6f66 2063 6f6e 7665 6e69 656e 746c 7920  of conveniently 
+00001360: 7275 6e6e 696e 6720 434f 5253 494b 4137  running CORSIKA7
+00001370: 206f 6e20 6d6f 7265 2074 6861 6e20 3120   on more than 1 
+00001380: 636f 7265 2e0a 4920 656e 6465 6420 696e  core..I ended in
+00001390: 2074 6865 2073 616d 6520 706c 6163 6520   the same place 
+000013a0: 7768 6572 6520 6d6f 7374 2043 4f52 5349  where most CORSI
+000013b0: 4b41 3720 7573 6572 7320 656e 6420 2873  KA7 users end (s
+000013c0: 6565 2065 2e67 2e20 5b66 6163 742d 7072  ee e.g. [fact-pr
+000013d0: 6f6a 6563 742f 636f 7273 696b 615f 7772  oject/corsika_wr
+000013e0: 6170 7065 725d 2868 7474 7073 3a2f 2f67  apper](https://g
+000013f0: 6974 6875 622e 636f 6d2f 6661 6374 2d70  ithub.com/fact-p
+00001400: 726f 6a65 6374 2f63 6f72 7369 6b61 5f77  roject/corsika_w
+00001410: 7261 7070 6572 2929 0a61 6e64 2077 726f  rapper)).and wro
+00001420: 7465 2061 2073 6d61 6c6c 2077 7261 7070  te a small wrapp
+00001430: 6572 2e0a 0a72 6561 645f 4441 5420 6d61  er...read_DAT ma
+00001440: 6465 2070 6f73 7369 626c 6520 6279 205b  de possible by [
+00001450: 6374 612d 6f62 7365 7276 6174 6f72 792f  cta-observatory/
+00001460: 7079 636f 7273 696b 6169 6f5d 2868 7474  pycorsikaio](htt
+00001470: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00001480: 6374 612d 6f62 7365 7276 6174 6f72 792f  cta-observatory/
+00001490: 7079 636f 7273 696b 6169 6f29 2e0a 0a23  pycorsikaio)...#
+000014a0: 2323 2320 5069 7466 616c 6c73 0a0a 2d20  ### Pitfalls..- 
+000014b0: 5468 6520 7768 6f6c 6520 6072 756e 6020  The whole `run` 
+000014c0: 666f 6c64 6572 206f 6620 434f 5253 494b  folder of CORSIK
+000014d0: 4137 206d 7573 7420 6265 2063 6f70 6965  A7 must be copie
+000014e0: 6420 666f 7220 6561 6368 2070 726f 6365  d for each proce
+000014f0: 7373 2c20 736f 2076 6572 7920 6869 6768  ss, so very high
+00001500: 2070 6172 616c 6c65 6c20 7275 6e73 2068   parallel runs h
+00001510: 6176 6520 6869 6768 206f 7665 7268 6561  ave high overhea
+00001520: 640a 2d20 4966 2079 6f75 2073 696d 756c  d.- If you simul
+00001530: 6174 6520 746f 206c 6f77 2065 6e65 7267  ate to low energ
+00001540: 6965 732c 2070 7974 686f 6e20 6361 6e27  ies, python can'
+00001550: 7420 7365 656d 2074 6f20 686f 6c64 2075  t seem to hold u
+00001560: 7020 7769 7468 2074 6865 2063 6f72 7369  p with the corsi
+00001570: 6b61 206f 7574 7075 7420 746f 2060 7374  ka output to `st
+00001580: 6469 6e60 2061 6e64 2065 7373 656e 7469  din` and essenti
+00001590: 616c 6c79 2073 6c6f 7773 2064 6f77 6e20  ally slows down 
+000015a0: 636f 7273 696b 6120 7468 6973 2069 7320  corsika this is 
+000015b0: 7374 696c 6c20 6120 6275 6720 696e 2069  still a bug in i
+000015c0: 6e76 6573 7469 6761 7469 6f6e 2023 310a  nvestigation #1.
+000015d0: 0a23 2320 5768 6174 2074 6869 7320 6973  .## What this is
+000015e0: 206e 6f74 0a0a 4275 672d 6672 6565 206f   not..Bug-free o
+000015f0: 7220 7374 6162 6c65 0a                   r stable.
```

### Comparing `corsika_panama-0.3.2/panama/cli.py` & `corsika_panama-0.4.0/panama/cli/cli.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,29 +1,31 @@
-import click
 import logging
-from os import environ
-from pathlib import Path
+
+import click
+
 from .corsika_to_hdf5 import hdf5
 from .run import run
 
 
 @click.group()
 @click.option("--debug", "-d", default=False, is_flag=True, help="Enable debug output")
 def cli(
-    debug,
-):
+    debug: bool,
+) -> None:
     """
     Command line interface for PANAMA, providing useful CORSIKA utilities.
 
     For examples see the PANAMA repository:
 
     https://github.com/The-Ludwig/PANAMA#readme
     """
     if debug:
         logging.basicConfig(level=logging.DEBUG)
+    else:
+        logging.basicConfig(level=logging.INFO)
 
 
 cli.add_command(hdf5)
 cli.add_command(run)
 
 if __name__ == "__main__":
     cli()
```

### Comparing `corsika_panama-0.3.2/panama/corsika_to_hdf5.py` & `corsika_panama-0.4.0/panama/cli/corsika_to_hdf5.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,49 +1,51 @@
-import click
-import logging
-from os import environ
+from __future__ import annotations
+
 from pathlib import Path
-from .read import read_DAT
+
+import click
+
+from ..read import read_DAT
 
 
 @click.command(context_settings={"show_default": True})
 @click.argument("input", type=click.Path(exists=True, dir_okay=False), nargs=-1)
 @click.argument("output", type=click.Path(exists=False, dir_okay=False), nargs=1)
 @click.option(
     "--noadd",
     "-n",
     is_flag=True,
-    help="Don't parse Corsika information into additional collumns like e.g. pdgid.",
+    help="Don't parse Corsika information into additional columns like e.g. pdgid.",
 )
 @click.option(
     "--mother",
     "-m",
     is_flag=True,
-    help="Parse mother information into additional collumns if they are provided with the EHIST option of CORSIKA",
+    help="Parse mother information into additional columns if they are provided with the EHIST option of CORSIKA",
 )
 @click.option(
     "--dropMother",
     "-dm",
     is_flag=True,
     help="Drop mother particles that don't reach observation level. (EHIST)",
 )
 @click.option(
     "--dropNonParticles",
     "-dp",
     is_flag=True,
     help="Drop all rows which don't really represent a particle. (Like decay or additional information)",
 )
 def hdf5(
-    input: [Path],
+    input: list[Path],
     output: Path,
     noadd: bool,
     mother: bool,
     dropmother: bool,
     dropnonparticles: bool,
-):
+) -> None:
     """
     Convert CORSIKA7 DAT files to hdf5 files.
 
     INPUT: One or more CORSIKA7 datfiles
     OUTPUT: The filename of the hdf5 output file
 
     For examples see the PANAMA repository:
```

### Comparing `corsika_panama-0.3.2/panama/fluxes/fluxes.py` & `corsika_panama-0.4.0/panama/fluxes/fluxes.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 """
 Faster implementations of some fluxes from the crflux package.
 I basically only used numpy at the right places, that was it.
 """
-from crflux.models import PrimaryFlux
 import numpy as np
+from crflux.models import PrimaryFlux
 
 
 class FastPrimaryFlux(PrimaryFlux):
     """
     Fast version of PrimaryFlux, which uses numpy where applicable.
     """
 
@@ -99,18 +99,15 @@
 
         self.nucleus_ids = list(self.params.keys())
 
     def nucleus_flux(self, corsika_id, E):
         if corsika_id not in self.params:
             raise Exception("Unknown CorsikaID for model.")
 
-        if isinstance(E, np.ndarray):
-            flux = np.zeros(E.shape)
-        else:
-            flux = 0.0
+        flux = np.zeros(E.shape) if isinstance(E, np.ndarray) else 0.0
 
         for i in range(1, 4):
             p = self.params[corsika_id][i]
             flux += p[0] * E ** (-p[1] - 1.0) * np.exp(-E / p[2] / self.rid_cutoff[i])
         return flux
 
 
@@ -133,22 +130,19 @@
 
         self.nucleus_ids = [14]
 
     def nucleus_flux(self, corsika_id, E):
         """Broken power law spectrum for protons."""
         #         E = np.atleast_1d(E)
         if corsika_id != 14:
-            if isinstance(E, np.ndarray):
-                flux = np.zeros(E.shape)
-            else:
-                flux = 0.0
+            flux = np.zeros(E.shape) if isinstance(E, np.ndarray) else 0.0
             return flux
 
-        le = E < self.params["trans"]
-        he = E >= self.params["trans"]
+        le = self.params["trans"] > E
+        he = self.params["trans"] <= E
 
         flux = E.copy()
         flux[le] = self.params["low_e"][0] * E[le] ** self.params["low_e"][1]
         flux[he] = self.params["high_e"][0] * E[he] ** self.params["high_e"][1]
         return flux
 
         #     self.flux(E[he], corsika_id)))
@@ -179,25 +173,22 @@
 
         self.nucleus_ids = [14]
 
     def nucleus_flux(self, corsika_id, E):
         """Broken power law spectrum for protons."""
         #         E = np.atleast_1d(E)
         if corsika_id != 14:
-            if isinstance(E, np.ndarray):
-                flux = np.zeros(E.shape)
-            else:
-                flux = 0.0
+            flux = np.zeros(E.shape) if isinstance(E, np.ndarray) else 0.0
             return flux
 
         if not isinstance(E, np.ndarray):
             E = np.atleast_1d(E)
-        le = E < self.params["trans"]
-        he = E >= self.params["trans"]
-        co = E > self.params["cutoff"]
+        le = self.params["trans"] > E
+        he = self.params["trans"] <= E
+        co = self.params["cutoff"] < E
 
         flux = E.copy()
         flux[le] = self.params["low_e"][0] * E[le] ** self.params["low_e"][1]
         flux[he] = self.params["high_e"][0] * E[he] ** self.params["high_e"][1]
         flux[co] = 0
         return flux
```

### Comparing `corsika_panama-0.3.2/panama/nbstreamreader.py` & `corsika_panama-0.4.0/panama/nbstreamreader.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,27 +1,31 @@
 # Adapted from http://eyalarubas.com/python-subproc-nonblock.html
+from __future__ import annotations
+
+from queue import Empty, Queue
 from threading import Thread
-from queue import Queue, Empty
-from time import sleep
+from typing import IO, Any
 
 
 class NonBlockingStreamReader:
-    def __init__(self, stream, wait=5):
+    def __init__(self, stream: IO[Any], wait: int = 5) -> None:
         """
         stream: the stream to read from.
                 Usually a process' stdout or stderr.
         """
 
         self._s = stream
-        self._q = Queue()
+        self._q: Queue[bytes] = Queue()
         self._wait = wait
 
         self._is_alive = True
 
-        def _populateQueue(stream, queue, is_alive):
+        def _populateQueue(
+            stream: IO[Any], queue: Queue[bytes], is_alive: bool
+        ) -> None:
             """
             Collect lines from 'stream' and put them in 'quque'.
             """
 
             while is_alive:
                 line = stream.readline()
                 while line:
@@ -30,18 +34,18 @@
                 # we arrive here if line is None, this means that the stream is closed
                 return
 
         self._t = Thread(target=_populateQueue, args=(self._s, self._q, self._is_alive))
         self._t.daemon = True
         self._t.start()  # start collecting lines from the stream
 
-    def __del__(self):
+    def __del__(self) -> None:
         self._is_alive = False
         self._t.join(timeout=self._wait)
         if self._t.is_alive():
             raise RuntimeError("Could not kill thread in NonBlockingStreamReader")
 
-    def readline(self, timeout=None):
+    def readline(self, timeout: int | None = None) -> bytes | None:
         try:
             return self._q.get(block=timeout is not None, timeout=timeout)
         except Empty:
             return None
```

### Comparing `corsika_panama-0.3.2/panama/read.py` & `corsika_panama-0.4.0/panama/read.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,67 +1,40 @@
 from __future__ import annotations
-from dataclasses import dataclass, make_dataclass
+
+from math import inf
+from pathlib import Path
+
 import numpy as np
+import pandas as pd
 from corsikaio import CorsikaParticleFile
 from corsikaio.subblocks import event_header_types, particle_data_dtype
-from collections import defaultdict
-from particle import Corsika7ID, Particle, InvalidParticle, PDGID
-import pandas as pd
-from pathlib import Path
+from particle import Corsika7ID, Particle
 from tqdm import tqdm
 
-D0_LIFETIME = Particle.from_name("D0").lifetime
-DEFAULT_RUN_HEADER_FEATURES = (
-    "run_number",
-    "date",
-    "version",
-    "n_observation_levels",
-    "observation_height",
-    "energy_spectrum_slope",
-    "energy_min",
-    "energy_max",
-    "energy_cutoff_hadrons",
-    "energy_cutoff_muons",
-    "energy_cutoff_electrons",
-    "energy_cutoff_photons",
-    "n_showers",
-)
-DEFAULT_EVENT_HEADER_FEATURES = (
-    "event_number",
-    "run_number",
-    "particle_id",
-    "total_energy",
-    "starting_altitude",
-    "first_interaction_height",
-    "momentum_x",
-    "momentum_y",
-    "momentum_minus_z",
-    "zenith",
-    "azimuth",
-    "low_energy_hadron_model",
-    "high_energy_hadron_model",
-    "sybill_interaction_flag",
-    "sybill_cross_section_flag",
-    "explicit_charm_generation_flag",
+from .constants import (
+    CORSIKA_FIELD_BYTE_LEN,
+    DEFAULT_EVENT_HEADER_FEATURES,
+    DEFAULT_RUN_HEADER_FEATURES,
+    PDGID_ERROR_VAL,
 )
-CORSIKA_FIELD_BYTE_LEN = 4
+from .prompt import is_prompt_lifetime_limit
 
 
 def read_DAT(
-    files: Path | [Path] | None = None,
+    files: Path | list[Path] | None = None,
     glob: str | None = None,
     max_events: int | None = None,
-    run_header_features: tuple | None = None,
-    event_header_features: tuple | None = None,
+    run_header_features: list[str] | None = None,
+    event_header_features: list[str] | None = None,
     additional_columns: bool = True,
     mother_columns: bool = False,
     drop_mothers: bool = True,
     drop_non_particles: bool = True,
     noparse: bool = True,
-) -> Tuple[pd.DataFrame, pd.DataFrame, pd.DataFrame]:
+) -> tuple[pd.DataFrame, pd.DataFrame, pd.DataFrame]:
     """
     Read CORSIKA DAT files to Pandas.DataFrame.
     Exactly one of `files` or `glob` must be provided.
     Made for CORSIKA>7.4, other compatibility not garantueed, but probably approximate.
 
     Parameters
     ----------
@@ -100,15 +73,15 @@
             - `mass`
             - `energy`
             - `zenith`
     mother_columns: bool
         Weather to add columns related to the mother/grandmother
         output of the EHIST option.
         They take more time to calculate, since the
-        columns are dependend of each other.
+        columns are dependent of each other.
     drop_mothers: bool
         Weather to remove all mother rows (default: True)
     drop_non_particles: bool
         Weather to remove all rows not representing a real particle (like muon additional information)
         (default: True)
     noparse:
         Use the "noparse" feature of pycorsikaio, which theoretically
@@ -139,32 +112,33 @@
             raise ValueError(
                 "mother_columns require additional columns to be calculated"
             )
 
     if glob is not None:
         basepath = Path(glob).parent
         files = list(basepath.glob(Path(glob).name))
+    elif isinstance(files, Path):
+        files = [files]
+
+    assert isinstance(files, list)
 
     if run_header_features is None:
         run_header_features = DEFAULT_RUN_HEADER_FEATURES
 
     if event_header_features is None:
         event_header_features = DEFAULT_EVENT_HEADER_FEATURES
 
-    if not isinstance(files, list):
-        files = [files]
-
     run_headers = []
     event_headers = []
     particles = []
 
     # to index the particles
     particles_run_num = []
     particles_event_num = []
-    particles_num = []
+    particles_num: list[int] = []
 
     events = 0
 
     # flag to break
     finished = False
 
     # Check how many showers are there
@@ -229,48 +203,44 @@
                     particles_num += range(n_particles)
 
     df_run_headers = pd.DataFrame(run_headers, columns=run_header_features)
     df_run_headers.set_index(keys=["run_number"], inplace=True)
 
     if noparse:
         df_event_headers = pd.DataFrame(np.array(event_headers))
-        valid_columns = list(
-            map(
-                lambda v: v[1] // CORSIKA_FIELD_BYTE_LEN,
-                list(event_header_types[version].fields.values()),
-            )
-        )
+        valid_columns = [
+            v[1] // CORSIKA_FIELD_BYTE_LEN
+            for v in list(event_header_types[version].fields.values())
+        ]
         valid_names = event_header_types[version].names
 
-        mapper = {pos: name for pos, name in zip(valid_columns, valid_names)}
+        mapper = dict(zip(valid_columns, valid_names))  # noqa: B905
 
         df_event_headers.drop(
             columns=df_event_headers.columns.difference(valid_columns), inplace=True
         )
         df_event_headers.rename(columns=mapper, inplace=True)
         df_event_headers["run_number"] = df_event_headers["run_number"].astype(int)
         df_event_headers["event_number"] = df_event_headers["event_number"].astype(int)
     else:
         df_event_headers = pd.DataFrame(event_headers, columns=event_header_features)
     df_event_headers.set_index(keys=["run_number", "event_number"], inplace=True)
 
     if noparse:
-        # necesary since we can have a diffrent number of particles in each event
+        # necessary since we can have a different number of particles in each event
         df_particles_l = [pd.DataFrame(p) for p in particles]
         df_particles = pd.concat(df_particles_l, ignore_index=True)
 
-        valid_columns = list(
-            map(
-                lambda v: v[1] // CORSIKA_FIELD_BYTE_LEN,
-                list(particle_data_dtype.fields.values()),
-            )
-        )
+        valid_columns = [
+            v[1] // CORSIKA_FIELD_BYTE_LEN
+            for v in list(particle_data_dtype.fields.values())
+        ]
         valid_names = particle_data_dtype.names
 
-        mapper = {pos: name for pos, name in zip(valid_columns, valid_names)}
+        mapper = dict(zip(valid_columns, valid_names))  # noqa: B905
 
         df_particles.drop(
             columns=df_particles.columns.difference(valid_columns), inplace=True
         )
         df_particles.rename(columns=mapper, inplace=True)
         df_particles.query("particle_description != 0", inplace=True)
     else:
@@ -300,34 +270,31 @@
         )
         df_particles["n_obs_level"] = pd.Series(
             df_particles["particle_description"].abs() % 10,
             dtype=int,
         )
         df_particles["is_mother"] = df_particles["particle_description"] < 0
 
-        pdg_error_val = (
-            0  # This non-existing pdgid will be our error value for now, since
-        )
         # the use of pd.NA is currently experimental in Int64 type columns
         corsikaids = df_particles["corsikaid"].unique()
         pdg_map = {
             corsikaid: int(Corsika7ID(corsikaid).to_pdgid())
             if Corsika7ID(corsikaid).is_particle()
-            else pdg_error_val  # This will be our error value
+            else PDGID_ERROR_VAL  # This will be our error value
             for corsikaid in corsikaids
         }
         df_particles["pdgid"] = (
             df_particles["corsikaid"].map(pdg_map).astype(int, copy=False)
         )
 
         pdgids = df_particles["pdgid"].unique()
 
-        mass_map = dict()
+        mass_map = {}
         for pdgid in pdgids:
-            if pdgid == pdg_error_val:
+            if pdgid == PDGID_ERROR_VAL:
                 mass_map[pdgid] = 0
             else:
                 mass = Particle.from_pdgid(pdgid).mass
                 mass_map[pdgid] = mass / 1000 if mass is not None else 0  # GeV
 
         df_particles["mass"] = df_particles["pdgid"].map(mass_map, na_action=None)
         df_particles["energy"] = df_particles.eval("sqrt(mass**2+px**2+py**2+pz**2)")
@@ -337,107 +304,114 @@
             mother_index = np.arange(-2, df_particles.shape[0] - 2)
             mother_index[0] = df_particles.shape[0] - 2
             mother_index[1] = df_particles.shape[0] - 1
 
             grandmother_index = np.arange(-1, df_particles.shape[0] - 1)
             grandmother_index[0] = df_particles.shape[0] - 1
 
-            df_particles["has_mother"] = (
-                df_particles["is_mother"].iloc[mother_index].values
-                & df_particles["is_mother"].iloc[grandmother_index].values
+            df_particles["has_mother"] = df_particles["is_mother"].iloc[
+                mother_index
+            ].to_numpy(copy=False) & df_particles["is_mother"].iloc[
+                grandmother_index
+            ].to_numpy(
+                copy=False
             )
 
-            df_particles["mother_pdgid"] = (
-                df_particles["pdgid"].iloc[mother_index].values
-            )
-            df_particles.loc[
-                ~df_particles["has_mother"].values, "mother_pdgid"
-            ] = pdg_error_val
-
-            df_particles["mother_corsikaid"] = (
-                df_particles["corsikaid"].iloc[mother_index].values
-            )
-            df_particles.loc[
-                ~df_particles["has_mother"].values, "mother_corsikaid"
-            ] = pdg_error_val
-
             df_particles["mother_hadr_gen"] = (
-                np.abs(df_particles["particle_description"].iloc[mother_index].values)
+                np.abs(df_particles["particle_description"].iloc[mother_index].array)
                 % 100
             )
             df_particles.loc[
-                ~df_particles["has_mother"].values, "mother_hadr_gen"
+                ~df_particles["has_mother"].array, "mother_hadr_gen"
             ] = pd.NA
 
+            # copy mother values to daughter columns so we can drop them later
+            for name, error_val in (
+                ("pdgid", PDGID_ERROR_VAL),
+                ("energy", pd.NA),
+                ("mass", pd.NA),
+            ):
+                df_particles[f"mother_{name}"] = (
+                    df_particles[name].iloc[mother_index].to_numpy(copy=False)
+                )
+                df_particles.loc[
+                    ~df_particles["has_mother"].array, f"mother_{name}"
+                ] = error_val
+
             has_charm = {
                 pdgid: "c" in Particle.from_pdgid(pdgid).quarks.lower()
-                if pdgid != pdg_error_val
-                else pd.NA
+                if pdgid != PDGID_ERROR_VAL
+                else False
                 for pdgid in pdgids
             }
 
             # this follows the MCEq definition
-            lifetime_limit = Particle.from_name("D0").lifetime * 10
             lifetimes = {
                 pdgid: Particle.from_pdgid(pdgid).lifetime
-                if pdgid != pdg_error_val
-                else lifetime_limit + 10
+                if pdgid != PDGID_ERROR_VAL
+                else inf
                 for pdgid in pdgids
             }
             for pdgid in lifetimes:
                 if lifetimes[pdgid] is None:
                     lifetimes[pdgid] = 0
 
-            mother_has_charm = df_particles["mother_pdgid"].map(
+            is_resonance = {
+                pdgid: "*" in Particle.from_pdgid(pdgid).name
+                if pdgid != PDGID_ERROR_VAL
+                else False
+                for pdgid in pdgids
+            }
+
+            df_particles["mother_has_charm"] = df_particles["mother_pdgid"].map(
                 has_charm, na_action=None
             )
-            mother_lifetimes = df_particles["mother_pdgid"].map(
-                lifetimes, na_action=None
+            df_particles["mother_lifetimes"] = (
+                df_particles["mother_pdgid"].map(lifetimes, na_action=None).array
             )
-
-            mother_is_resonance = (df_particles["mother_corsikaid"].values <= 65) & (
-                df_particles["mother_corsikaid"].values >= 62
+            df_particles["mother_is_resonance"] = df_particles["mother_pdgid"].map(
+                is_resonance, na_action=None
             )
 
-            df_particles["mother_has_charm"] = mother_has_charm.values
-
-            dif = (
-                df_particles["hadron_gen"].values
-                - df_particles["mother_hadr_gen"].values
-            )
-            df_particles["is_prompt"] = df_particles["has_mother"].values & (
-                (
-                    (mother_lifetimes.values <= lifetime_limit)
-                    & (
-                        (np.abs(dif) <= 1 & ~mother_is_resonance)
-                        # np.abs because of some very weird stuff going on in ehist
-                        | ((dif == 30) & mother_has_charm.values)
-                    )
-                )
-                | (
-                    (df_particles["mother_pdgid"].abs().values == 13)
-                    & (df_particles["hadron_gen"] < 3)
-                )  # mother is muon (and in early generation)
+            dif = df_particles["hadron_gen"].to_numpy(copy=False) - df_particles[
+                "mother_hadr_gen"
+            ].to_numpy(copy=False)
+
+            is_pion_decay = (dif == 51) & (
+                (df_particles["mother_pdgid"].to_numpy(copy=False) == 111)
+                | (df_particles["mother_pdgid"].to_numpy(copy=False) == 211)
+                | (df_particles["mother_pdgid"].to_numpy(copy=False) == -211)
+            )
+
+            # this adds a cleaned version of the mother_pdgid
+            # where the pdgid is replaced with the pdg error value
+            # if we can't tell the motherpdgid for sure
+            df_particles["mother_pdgid_cleaned"] = df_particles["mother_pdgid"]
+            no_true_mother_idxs = ~(
+                ((dif == 1) | (dif == 0))
+                & ~df_particles["mother_is_resonance"].to_numpy(copy=False)
+                | df_particles["mother_has_charm"].to_numpy(copy=False)
+                | is_pion_decay
             )
+            df_particles.loc[
+                no_true_mother_idxs,
+                "mother_pdgid_cleaned",
+            ] = PDGID_ERROR_VAL
+
+            df_particles["is_prompt"] = is_prompt_lifetime_limit(df_particles)
 
     if drop_mothers:
         df_particles.drop(
-            index=df_particles.query("particle_description < 0").index.values,
+            index=df_particles.query("particle_description < 0").index.array,
             inplace=True,
         )
 
-        # Numba version...
-        # df["mother_run_idx"], df["mother_event_idx"], df["mother_particle_idx"] = mother_idx_numba(df.loc[:, "is_mother"].values, df.loc[:, "run_number"].values, df.loc[:, "event_number"].values, df.loc[:, "particle_number"].values)
-
     if drop_non_particles:
         df_particles.drop(
-            index=df_particles.query("pdgid == 0").index.values, inplace=True
+            index=df_particles.query("pdgid == 0").index.array, inplace=True
         )
 
     df_particles.set_index(
         keys=["run_number", "event_number", "particle_number"], inplace=True
     )
 
-    # if additional_columns:
-    #    df["mother_idx"] = mother_idx(df["is_mother"].values, df.index.values)
-
     return df_run_headers, df_event_headers, df_particles
```

### Comparing `corsika_panama-0.3.2/panama/run.py` & `corsika_panama-0.4.0/panama/cli/run.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,42 +1,47 @@
 from __future__ import annotations
-import click
+
 import logging
 from os import environ
-from .parallel_run import run_corsika_parallel
 from pathlib import Path
+from typing import Any
+
+import click
+
+from ..run import CorsikaRunner
 
 DEFAULT_TMP_DIR = environ.get("TMP_DIR", "/tmp/PANAMA")
 CORSIKA_PATH = environ.get(
     "CORSIKA_PATH",
     f"{environ.get('HOME')}/corsika7-master/run/corsika77420Linux_SIBYLL_urqmd",
 )
 DEFAULT_N_EVENTS = 100
 
 
-class IntOrDictParamType(click.ParamType):
+class IntOrDictParamType(click.ParamType):  # type: ignore[misc]
     name = "int or py dict"
 
-    def convert(self, value, param, ctx):
+    def convert(self, value: int | str, param: Any, ctx: Any) -> int | dict[int, int]:
         if isinstance(value, int):
             return value
 
         try:
-            d = eval(value)
-
-            if not isinstance(d, (int, dict)):
+            d = eval(value)  # noqa: PGH001
+            if not isinstance(d, (int, dict)):  # noqa: UP038
                 self.fail(
                     f"{value!r} is a valid python expression, but not a dict nor an int",
                     param,
                     ctx,
                 )
             return d
         except ValueError:
             self.fail(f"{value!r} is not a valid python expression", param, ctx)
 
+        raise RuntimeError("Unreachable code")
+
 
 INT_OR_DICT = IntOrDictParamType()
 
 
 @click.command(context_settings={"show_default": True})
 @click.argument(
     "template", type=click.Path(exists=True, dir_okay=False)
@@ -87,47 +92,48 @@
     type=click.Path(file_okay=False),
     help="Path to the default temp folder to copy corsika to. Can also be set using the `TMP_DIR` environment variable.",
 )
 @click.option("--debug", "-d", default=False, is_flag=True, help="Enable debug output")
 def run(
     template: Path,
     events: int,
-    primary: int | dict,
+    primary: int | dict[int, int],
     output: Path,
     jobs: int,
     corsika: Path,
     seed: int,
     tmp: Path,
-    debug,
-):
+    debug: bool,
+) -> None:
     """
     Run CORSIKA7 in parallel.
 
-    The `TEMPLATE` argument must point to a valid CORSIKA7 stiring card, where
+    The `TEMPLATE` argument must point to a valid CORSIKA7 steering card, where
     `{run_idx}`, `{first_event_idx}` `{n_show}` `{seed_1}` `{seed_2}` and `{dir}`
     will be replaced accordingly.
 
     For examples see the PANAMA repository:
 
     https://github.com/The-Ludwig/PANAMA#readme
     """
     if debug:
         logging.basicConfig(level=logging.DEBUG)
 
     if tmp == DEFAULT_TMP_DIR:
         n = 0
         p = Path(tmp)
-        while p.exists() and next(p.iterdir(), True) != True:
+        while p.exists() and next(p.iterdir(), True) is not True:
             n += 1
             p = Path(DEFAULT_TMP_DIR + f"_{n}")
     else:
         p = Path(tmp)
 
     if isinstance(primary, int):
         primary = {primary: events}
 
     if events != DEFAULT_N_EVENTS and len(primary) > 1:
-        logging.warn(
-            f"Looks like --events was given and --primary was provided a dict. --events is ignored."
+        logging.warning(
+            "Looks like --events was given and --primary was provided a dict. --events is ignored."
         )
 
-    run_corsika_parallel(primary, jobs, template, Path(output), corsika, p, seed)
+    runner = CorsikaRunner(primary, jobs, template, Path(output), corsika, p, seed)
+    runner.run()
```

### Comparing `corsika_panama-0.3.2/setup.py` & `corsika_panama-0.4.0/setup.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 # -*- coding: utf-8 -*-
 from setuptools import setup
 
 packages = \
-['panama', 'panama.fluxes']
+['panama', 'panama.cli', 'panama.fluxes']
 
 package_data = \
 {'': ['*']}
 
 install_requires = \
 ['click>=8.1.3,<9.0.0',
  'corsikaio>=0.3,<0.4',
@@ -18,17 +18,17 @@
  'tqdm>=4.64.1,<5.0.0']
 
 entry_points = \
 {'console_scripts': ['panama = panama.cli:cli']}
 
 setup_kwargs = {
     'name': 'corsika-panama',
-    'version': '0.3.2',
+    'version': '0.4.0',
     'description': 'PANdas And Multicore utils for corsikA7',
-    'long_description': 'PAN*das* A*nd* M*ulticore utils for corsik*A*7*\n===\n[Documentation ![Read the Docs](https://img.shields.io/readthedocs/panama?style=for-the-badge)](https://panama.readthedocs.io/en/latest/)\n\n[![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/The-Ludwig/PANAMA/ci.yml?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/actions/workflows/ci.yml)\n[![Codecov](https://img.shields.io/codecov/c/github/The-Ludwig/PANAMA?label=test%20coverage&style=for-the-badge)](https://app.codecov.io/gh/The-Ludwig/PANAMA)\n[![PyPI](https://img.shields.io/pypi/v/corsika-panama?style=for-the-badge)](https://pypi.org/project/corsika-panama/)\n\n[![GitHub issues](https://img.shields.io/github/issues-raw/The-Ludwig/PANAMA?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/issues)\n[![GitHub](https://img.shields.io/github/license/The-Ludwig/PANAMA?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/blob/main/LICENSE)\n[![Codestyle](https://img.shields.io/badge/codesyle-Black-black.svg?style=for-the-badge)](https://github.com/psf/black)\n\nThanks [@Jean1995](https://github.com/Jean1995) for the silly naming idea.\n\n## Installation\n```\npip install corsika-panama\n```\n\n## Features\n\n### Run CORSIKA7 on multiple cores\nYou need to have [`CORSIKA7`](https://www.iap.kit.edu/corsika/79.php) installed to run this.\n\nRunning 100 showers on 4 cores with primary being proton:\n```sh\n$ panama run --corsika path/to/corsika7/executable -j4 ./tests/files/example_corsika.template\n83%|        | 83.0/100 [00:13<00:02, 6.36shower/s]\nJobs should be nearly finished, now we wait for them to exit\nAll jobs terminated, cleanup now\n```\n\nInjecting 5 different primaries (Proton, Helium-4, Carbon-12, Silicon-28, Iron-54 roughly aligning with grouping in H3a) with each primary shower taking 10 jobs:\n```sh\n$ panama run --corsika corsika-77420/run/corsika77420Linux_SIBYLL_urqmd --jobs 10 --primary ""{2212: 500, 1000020040: 250, 1000060120: 50, 1000140280: 50, 1000260540: 50}"" ./tests/files/example_corsika.template\n...\n```\n### Convert CORSIKA7 DAT files to hdf5 files\n```sh\n$ panama hdf5 path/to/corsika/dat/files/DAT* output.hdf5\n```\nThe data is availabe under the `run_header` `event_header` and `particles` key.\n\n### Read CORSIKA7 DAT files to pandas dataframes\nExample: Calculate mean energy in the corsika files created in the example above:\n```python\nIn [1]: import panama as pn\n\nIn [2]: run_header, event_header, particles = pn.read_DAT(glob="corsika_output/DAT*")\n100%|| 2000/2000.0 [00:00<00:00, 10127.45it/s]\nIn [3]: particles["energy"].mean()\nOut[3]: 26525.611020413744\n```\n\n`run_header`, `event_header` and `particles` are all [pandas.DataFrames](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html) and can conveniently be used.\n\nIf `CORSIKA7` is compiled with the `EHIST` option, then the mother particles are automatically deleted, by default (this behaviour can be changed with`drop_mothers=False`).\nIf you want additional columns in the real particles storing the mother information use `mother_columns=True`.\n\n### Weighting to primary spectrum\nThis packages also provides facility to add a `weight` column to the dataframe, so you can look at corsika-output\nin physical flux in terms of $(\\mathrm{m^2} \\mathrm{s}\\ \\mathrm{sr}\\ \\mathrm{GeV})^{-1}$.\nUsing the example above, to get the whole physical flux in the complete simulated energy region:\n```python\nIn [1]: import panama as pn\n\nIn [2]: run_header, event_header, particles = pn.read_DAT(glob="corsika_output/DAT*")\n100%|| 2000/2000.0 [00:00<00:00, 10127.45it/s]\nIn [3]: pn.add_weight(run_header, event_header, particles)\n\nIn [4]: particles["weight"].sum()*(run_header["energy_max"]-run_header["energy_min"])\nOut[4]:\nrun_number\n1.0    1234.693481\n0.0    1234.693481\n3.0    1234.693481\n2.0    1234.693481\ndtype: float32\n\n```\nWhich is in units of $(\\mathrm{m^2}\\ \\mathrm{s}\\ \\mathrm{sr})^{-1}$. We get a result for each run, since\nin theory we could have different energy regions. Here, we do not, so the result is always equal.\n\nWeighting can be applied to different primaries, also, if they are known by the flux model.\n\n`add_weight` can also be applied to dataframes loaded in from hdf5 files produced with PANAMA.\n\nTODO: Better documentation of weighting (what is weighted, how, proton/neutrons, area...?)\n\n#### Notes:\nThis started a little while ago while I was looking into the `EHIST` option\nof corsika.\nI wanted a way of conveniently running CORSIKA7 on more than 1 core.\nI ended in the same place where most CORSIKA7 users end (see e.g. [fact-project/corsika_wrapper](https://github.com/fact-project/corsika_wrapper))\nand wrote a small wrapper.\n\nread_DAT made possible by [cta-observatory/pycorsikaio](https://github.com/cta-observatory/pycorsikaio).\n\n#### Pitfalls\n- The whole `run` folder of CORSIKA7 must be copied for each proccess, so very high parallel runs have high overhead\n- If you simulate to low energies, python can\'t seem to hold up with the corsika output to `stdin` and essentially slows down corsika this is still a bug in investigation #1\n\n## What this is not\nBug-free or stable\n',
+    'long_description': '# PAN*das* A*nd* M*ulticore utils for corsik*A*7*\n\n[Documentation ![Read the Docs](https://img.shields.io/readthedocs/panama?style=for-the-badge)](https://panama.readthedocs.io/en/latest/)\n\n[![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/The-Ludwig/PANAMA/ci.yml?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/actions/workflows/ci.yml)\n[![Codecov](https://img.shields.io/codecov/c/github/The-Ludwig/PANAMA?label=test%20coverage&style=for-the-badge)](https://app.codecov.io/gh/The-Ludwig/PANAMA)\n[![PyPI](https://img.shields.io/pypi/v/corsika-panama?style=for-the-badge)](https://pypi.org/project/corsika-panama/)\n\n[![GitHub issues](https://img.shields.io/github/issues-raw/The-Ludwig/PANAMA?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/issues)\n[![GitHub](https://img.shields.io/github/license/The-Ludwig/PANAMA?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/blob/main/LICENSE)\n[![Codestyle](https://img.shields.io/badge/codesyle-Black-black.svg?style=for-the-badge)](https://github.com/psf/black)\n\nThanks [@Jean1995](https://github.com/Jean1995) for the silly naming idea.\n\n## Installation\n\n```\npip install corsika-panama\n```\n\n## Features\n\n### Run CORSIKA7 on multiple cores\n\nYou need to have [`CORSIKA7`](https://www.iap.kit.edu/corsika/79.php) installed to run this.\n\nRunning 100 showers on 4 cores with primary being proton:\n\n```sh\n$ panama run --corsika path/to/corsika7/executable -j4 ./tests/files/example_corsika.template\n83%|        | 83.0/100 [00:13<00:02, 6.36shower/s]\nJobs should be nearly finished, now we wait for them to exit\nAll jobs terminated, cleanup now\n```\n\nInjecting 5 different primaries (Proton, Helium-4, Carbon-12, Silicon-28, Iron-54 roughly aligning with grouping in H3a) with each primary shower taking 10 jobs:\n\n```sh\n$ panama run --corsika corsika-77420/run/corsika77420Linux_SIBYLL_urqmd --jobs 10 --primary ""{2212: 500, 1000020040: 250, 1000060120: 50, 1000140280: 50, 1000260540: 50}"" ./tests/files/example_corsika.template\n...\n```\n\n### Convert CORSIKA7 DAT files to hdf5 files\n\n```sh\n$ panama hdf5 path/to/corsika/dat/files/DAT* output.hdf5\n```\n\nThe data is available under the `run_header` `event_header` and `particles` key.\n\n### Read CORSIKA7 DAT files to pandas dataframes\n\nExample: Calculate mean energy in the corsika files created in the example above:\n\n```\nIn [1]: import panama as pn\n\nIn [2]: run_header, event_header, particles = pn.read_DAT(glob="corsika_output/DAT*")\n100%|| 2000/2000.0 [00:00<00:00, 10127.45it/s]\nIn [3]: particles["energy"].mean()\nOut[3]: 26525.611020413744\n```\n\n`run_header`, `event_header` and `particles` are all [pandas.DataFrames](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html) and can conveniently be used.\n\nIf `CORSIKA7` is compiled with the `EHIST` option, then the mother particles are automatically deleted, by default (this behaviour can be changed with`drop_mothers=False`).\nIf you want additional columns in the real particles storing the mother information use `mother_columns=True`.\n\n### Weighting to primary spectrum\n\nThis packages also provides facility to add a `weight` column to the dataframe, so you can look at corsika-output\nin physical flux in terms of $(\\mathrm{m^2} \\mathrm{s}\\ \\mathrm{sr}\\ \\mathrm{GeV})^{-1}$.\nUsing the example above, to get the whole physical flux in the complete simulated energy region:\n\n```\nIn [1]: import panama as pn\n\nIn [2]: run_header, event_header, particles = pn.read_DAT(glob="corsika_output/DAT*")\n100%|| 2000/2000.0 [00:00<00:00, 10127.45it/s]\nIn [3]: pn.add_weight(run_header, event_header, particles)\n\nIn [4]: particles["weight"].sum()*(run_header["energy_max"]-run_header["energy_min"])\nOut[4]:\nrun_number\n1.0    1234.693481\n0.0    1234.693481\n3.0    1234.693481\n2.0    1234.693481\ndtype: float32\n\n```\n\nWhich is in units of $(\\mathrm{m^2}\\ \\mathrm{s}\\ \\mathrm{sr})^{-1}$. We get a result for each run, since\nin theory we could have different energy regions. Here, we do not, so the result is always equal.\n\nWeighting can be applied to different primaries, also, if they are known by the flux model.\n\n`add_weight` can also be applied to dataframes loaded in from hdf5 files produced with PANAMA.\n\nTODO: Better documentation of weighting (what is weighted, how, proton/neutrons, area...?)\n\n#### Notes:\n\nThis started a little while ago while I was looking into the `EHIST` option\nof corsika.\nI wanted a way of conveniently running CORSIKA7 on more than 1 core.\nI ended in the same place where most CORSIKA7 users end (see e.g. [fact-project/corsika_wrapper](https://github.com/fact-project/corsika_wrapper))\nand wrote a small wrapper.\n\nread_DAT made possible by [cta-observatory/pycorsikaio](https://github.com/cta-observatory/pycorsikaio).\n\n#### Pitfalls\n\n- The whole `run` folder of CORSIKA7 must be copied for each process, so very high parallel runs have high overhead\n- If you simulate to low energies, python can\'t seem to hold up with the corsika output to `stdin` and essentially slows down corsika this is still a bug in investigation #1\n\n## What this is not\n\nBug-free or stable\n',
     'author': 'Ludwig Neste',
     'author_email': 'ludwig.neste@tu-dortmund.de',
     'maintainer': 'None',
     'maintainer_email': 'None',
     'url': 'https://github.com/The-Ludwig/PANAMA',
     'packages': packages,
     'package_data': package_data,
```

### Comparing `corsika_panama-0.3.2/PKG-INFO` & `corsika_panama-0.4.0/PKG-INFO`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: corsika-panama
-Version: 0.3.2
+Version: 0.4.0
 Summary: PANdas And Multicore utils for corsikA7
 Home-page: https://github.com/The-Ludwig/PANAMA
 License: MIT
 Author: Ludwig Neste
 Author-email: ludwig.neste@tu-dortmund.de
 Requires-Python: >=3.8,<4.0
 Classifier: License :: OSI Approved :: MIT License
@@ -21,78 +21,89 @@
 Requires-Dist: particle (>=0.21.0,<0.22.0)
 Requires-Dist: tables (>=3.8.0,<4.0.0)
 Requires-Dist: tqdm (>=4.64.1,<5.0.0)
 Project-URL: Documentation, https://github.com/The-Ludwig/PANAMA#readme
 Project-URL: Repository, https://github.com/The-Ludwig/PANAMA
 Description-Content-Type: text/markdown
 
-PAN*das* A*nd* M*ulticore utils for corsik*A*7*
-===
+# PAN*das* A*nd* M*ulticore utils for corsik*A*7*
+
 [Documentation ![Read the Docs](https://img.shields.io/readthedocs/panama?style=for-the-badge)](https://panama.readthedocs.io/en/latest/)
 
 [![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/The-Ludwig/PANAMA/ci.yml?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/actions/workflows/ci.yml)
 [![Codecov](https://img.shields.io/codecov/c/github/The-Ludwig/PANAMA?label=test%20coverage&style=for-the-badge)](https://app.codecov.io/gh/The-Ludwig/PANAMA)
 [![PyPI](https://img.shields.io/pypi/v/corsika-panama?style=for-the-badge)](https://pypi.org/project/corsika-panama/)
 
 [![GitHub issues](https://img.shields.io/github/issues-raw/The-Ludwig/PANAMA?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/issues)
 [![GitHub](https://img.shields.io/github/license/The-Ludwig/PANAMA?style=for-the-badge)](https://github.com/The-Ludwig/PANAMA/blob/main/LICENSE)
 [![Codestyle](https://img.shields.io/badge/codesyle-Black-black.svg?style=for-the-badge)](https://github.com/psf/black)
 
 Thanks [@Jean1995](https://github.com/Jean1995) for the silly naming idea.
 
 ## Installation
+
 ```
 pip install corsika-panama
 ```
 
 ## Features
 
 ### Run CORSIKA7 on multiple cores
+
 You need to have [`CORSIKA7`](https://www.iap.kit.edu/corsika/79.php) installed to run this.
 
 Running 100 showers on 4 cores with primary being proton:
+
 ```sh
 $ panama run --corsika path/to/corsika7/executable -j4 ./tests/files/example_corsika.template
 83%|        | 83.0/100 [00:13<00:02, 6.36shower/s]
 Jobs should be nearly finished, now we wait for them to exit
 All jobs terminated, cleanup now
 ```
 
 Injecting 5 different primaries (Proton, Helium-4, Carbon-12, Silicon-28, Iron-54 roughly aligning with grouping in H3a) with each primary shower taking 10 jobs:
+
 ```sh
 $ panama run --corsika corsika-77420/run/corsika77420Linux_SIBYLL_urqmd --jobs 10 --primary ""{2212: 500, 1000020040: 250, 1000060120: 50, 1000140280: 50, 1000260540: 50}"" ./tests/files/example_corsika.template
 ...
 ```
+
 ### Convert CORSIKA7 DAT files to hdf5 files
+
 ```sh
 $ panama hdf5 path/to/corsika/dat/files/DAT* output.hdf5
 ```
-The data is availabe under the `run_header` `event_header` and `particles` key.
+
+The data is available under the `run_header` `event_header` and `particles` key.
 
 ### Read CORSIKA7 DAT files to pandas dataframes
+
 Example: Calculate mean energy in the corsika files created in the example above:
-```python
+
+```
 In [1]: import panama as pn
 
 In [2]: run_header, event_header, particles = pn.read_DAT(glob="corsika_output/DAT*")
 100%|| 2000/2000.0 [00:00<00:00, 10127.45it/s]
 In [3]: particles["energy"].mean()
 Out[3]: 26525.611020413744
 ```
 
 `run_header`, `event_header` and `particles` are all [pandas.DataFrames](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html) and can conveniently be used.
 
 If `CORSIKA7` is compiled with the `EHIST` option, then the mother particles are automatically deleted, by default (this behaviour can be changed with`drop_mothers=False`).
 If you want additional columns in the real particles storing the mother information use `mother_columns=True`.
 
 ### Weighting to primary spectrum
+
 This packages also provides facility to add a `weight` column to the dataframe, so you can look at corsika-output
 in physical flux in terms of $(\mathrm{m^2} \mathrm{s}\ \mathrm{sr}\ \mathrm{GeV})^{-1}$.
 Using the example above, to get the whole physical flux in the complete simulated energy region:
-```python
+
+```
 In [1]: import panama as pn
 
 In [2]: run_header, event_header, particles = pn.read_DAT(glob="corsika_output/DAT*")
 100%|| 2000/2000.0 [00:00<00:00, 10127.45it/s]
 In [3]: pn.add_weight(run_header, event_header, particles)
 
 In [4]: particles["weight"].sum()*(run_header["energy_max"]-run_header["energy_min"])
@@ -101,32 +112,36 @@
 1.0    1234.693481
 0.0    1234.693481
 3.0    1234.693481
 2.0    1234.693481
 dtype: float32
 
 ```
+
 Which is in units of $(\mathrm{m^2}\ \mathrm{s}\ \mathrm{sr})^{-1}$. We get a result for each run, since
 in theory we could have different energy regions. Here, we do not, so the result is always equal.
 
 Weighting can be applied to different primaries, also, if they are known by the flux model.
 
 `add_weight` can also be applied to dataframes loaded in from hdf5 files produced with PANAMA.
 
 TODO: Better documentation of weighting (what is weighted, how, proton/neutrons, area...?)
 
 #### Notes:
+
 This started a little while ago while I was looking into the `EHIST` option
 of corsika.
 I wanted a way of conveniently running CORSIKA7 on more than 1 core.
 I ended in the same place where most CORSIKA7 users end (see e.g. [fact-project/corsika_wrapper](https://github.com/fact-project/corsika_wrapper))
 and wrote a small wrapper.
 
 read_DAT made possible by [cta-observatory/pycorsikaio](https://github.com/cta-observatory/pycorsikaio).
 
 #### Pitfalls
-- The whole `run` folder of CORSIKA7 must be copied for each proccess, so very high parallel runs have high overhead
+
+- The whole `run` folder of CORSIKA7 must be copied for each process, so very high parallel runs have high overhead
 - If you simulate to low energies, python can't seem to hold up with the corsika output to `stdin` and essentially slows down corsika this is still a bug in investigation #1
 
 ## What this is not
+
 Bug-free or stable
```

